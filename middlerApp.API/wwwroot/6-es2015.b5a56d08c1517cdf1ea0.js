(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{CgPW:function(t,e,i){"use strict";i.r(e),i.d(e,"EndpointRulesModule",(function(){return bn}));var n=i("ofXK"),s=i("tyNb"),o=i("fXoL"),r=i("ZF+8"),c=i("N136"),a=i("vkgz"),l=i("2Vo4");class d{constructor(t){this.Item=t,this._showDetails=!1,this.ShowDetailsSubject$=new l.a(!1),this.ShowDetails$=this.ShowDetailsSubject$.asObservable()}set ShowDetails(t){this._showDetails=t,this.ShowDetailsSubject$.next(this._showDetails)}get ShowDetails(){return this._showDetails}}var h=i("vxfF"),p=i("nLfN"),u=i("8LU1"),g=i("XNiG"),b=i("quSY"),m=i("HDdC"),f=i("D0XW"),v=i("Y7HM");function _(t){const{subscriber:e,counter:i,period:n}=t;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}var z=i("eNwd"),C=i("VRyK"),x=i("1G5W"),O=i("lJxs"),y=i("IzEk"),P=i("JX91"),S=i("eIep"),w=i("cH1L");function T(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function D(t,e){const i=e?"":"none";T(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function k(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function M(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function R(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function E(t,e,i){const{top:n,bottom:s,left:o,right:r}=t;return i>=n&&i<=s&&e>=o&&e<=r}function I(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function A(t,e,i,n){const{top:s,right:o,bottom:r,left:c,width:a,height:l}=t,d=a*e,h=l*e;return n>s-h&&n<r+h&&i>c-d&&i<o+d}class L{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:R(t)})})}handleScroll(t){const e=t.target,i=this.positions.get(e);if(!i)return null;const n=e===this._document?e.documentElement:e,s=i.scrollPosition;let o,r;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();o=t.top,r=t.left}else o=e.scrollTop,r=e.scrollLeft;const c=s.top-o,a=s.left-r;return this.positions.forEach((t,i)=>{t.clientRect&&e!==i&&n.contains(i)&&I(t.clientRect,c,a)}),s.top=o,s.left=r,{top:c,left:a}}}const j=Object(p.e)({passive:!0}),B=Object(p.e)({passive:!1});class N{constructor(t,e,i,n,s,o){this._config=e,this._document=i,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new g.a,this._pointerMoveSubscription=b.a.EMPTY,this._pointerUpSubscription=b.a.EMPTY,this._scrollSubscription=b.a.EMPTY,this._resizeSubscription=b.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new g.a,this.started=new g.a,this.released=new g.a,this.ended=new g.a,this.entered=new g.a,this.exited=new g.a,this.dropped=new g.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const i=t.target;return!!i&&(i===e||e.contains(i))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i);else{const t=this._activeTransform;t.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new L(i,s),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(u.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Object(u.e)(t)),this._handles.forEach(t=>D(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(u.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,B),e.addEventListener("touchstart",this._pointerDown,j)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Object(u.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&X(this._rootElement),X(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&X(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&X(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),Y(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,s=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment("");n.insertBefore(r,t),t.style.display="none",this._document.body.appendChild(n.replaceChild(o,t)),(i=this._document,i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body).appendChild(s),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var i;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const i=this.isDragging(),n=Y(e),s=!n&&0!==e.button,o=this._rootElement,r=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||r)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=R(this._boundaryElement));const c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const a=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),n=this._getPointerPositionOnPage(t),s=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s}),e.drop(this,i,this._initialContainer,o,s,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=H(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let n;if(i&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),n=G(s,this._document),this._previewRef=s,t.matchSize?q(n,e):n.style.transform=H(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;n=F(t),q(n,t.getBoundingClientRect())}return T(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),D(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>n.classList.add(t)):n.classList.add(e)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=H(t.left,t.top);const e=function(t){const e=getComputedStyle(t),i=M(e,"transition-property"),n=i.find(t=>"transform"===t||"all"===t);if(!n)return 0;const s=i.indexOf(n),o=M(e,"transition-duration"),r=M(e,"transition-delay");return k(o[s])+k(r[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const i=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",i),t(),clearTimeout(n))},n=setTimeout(i,1.5*e);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=G(this._placeholderRef,this._document)):i=F(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,s=n?n.getBoundingClientRect():i,o=Y(e)?e.targetTouches[0]:e,r=this._getViewportScrollPosition();return{x:s.left-i.left+(o.pageX-s.left-r.left),y:s.top-i.top+(o.pageY-s.top-r.top)}}_getPointerPositionOnPage(t){const e=Y(t)?t.touches[0]||t.changedTouches[0]:t,i=this._getViewportScrollPosition();return{x:e.pageX-i.left,y:e.pageY-i.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,i=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===i?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==i||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:i}=this._pickupPositionInElement,n=this._boundaryRect,s=this._previewRect,o=n.top+i,r=n.bottom-(s.height-i);e.x=V(e.x,n.left+t,n.right-(s.width-t)),e.y=V(e.y,o,r)}return e}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),r=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(n.x=e>s.x?1:-1,s.x=e),r>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,D(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,B),t.removeEventListener("touchstart",this._pointerDown,j)}_applyRootElementTransform(t,e){const i=H(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===n.width&&0===n.height)return;const s=i.left-n.left,o=n.right-i.right,r=i.top-n.top,c=n.bottom-i.bottom;i.width>n.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,i.height>n.height?(r>0&&(e+=r),c>0&&(e-=c)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Y(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&I(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function H(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function F(t){const e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.querySelectorAll("canvas");e.removeAttribute("id");for(let s=0;s<i.length;s++)i[s].removeAttribute("id");if(n.length){const t=e.querySelectorAll("canvas");for(let e=0;e<n.length;e++){const i=t[e].getContext("2d");i&&i.drawImage(n[e],0,0)}}return e}function V(t,e,i){return Math.max(e,Math.min(i,t))}function X(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Y(t){return"t"===t.type[0]}function G(t,e){const i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];const n=e.createElement("div");return i.forEach(t=>n.appendChild(t)),n}function q(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=H(e.left,e.top)}function U(t,e,i){const n=W(e,t.length-1),s=W(i,t.length-1);if(n===s)return;const o=t[n],r=s<n?-1:1;for(let c=n;c!==s;c+=r)t[c]=t[c+r];t[s]=o}function W(t,e){return Math.max(0,Math.min(e,t))}class K{constructor(t,e,i,n,s){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new g.a,this.entered=new g.a,this.exited=new g.a,this.dropped=new g.a,this.sorted=new g.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=b.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new g.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=f.a){return(!Object(v.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=f.a),new m.a(i=>(i.add(e.schedule(_,t,{subscriber:i,counter:0,period:t})),i))}(0,z.a).pipe(Object(x.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?Q(t,-2):2===this._verticalScrollDirection&&Q(t,2),1===this._horizontalScrollDirection?J(t,-2):2===this._horizontalScrollDirection&&J(t,2)})},this.element=Object(u.e)(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new L(i,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(u.e)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,i,n){let s;this.start(),null==n?(s=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(t,e,i))):s=n;const o=this._activeDraggables,r=o.indexOf(t),c=t.getPlaceholderElement();let a=o[s];if(a===t&&(a=o[s+1]),r>-1&&o.splice(r,1),a&&!this._dragDropRegistry.isDragging(a)){const e=a.getRootElement();e.parentElement.insertBefore(c,e),o.splice(s,0,t)}else{const n=Object(u.e)(this.element);this._shouldEnterAsFirstChild(e,i)?(n.insertBefore(c,o[0].getRootElement()),o.unshift(t)):(n.appendChild(c),o.push(t))}c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,n,s,o){this._reset(),null==o&&(o=i.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:i,isPointerOverContainer:n,distance:s})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(u.e)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?Z("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,n){if(this.sortingDisabled||!A(this._clientRect,.05,e,i))return;const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,n);if(-1===o&&s.length>0)return;const r="horizontal"===this._orientation,c=Z(s,e=>e.drag===t),a=s[o],l=s[c].clientRect,d=a.clientRect,h=c>o?1:-1;this._previousSwap.drag=a.drag,this._previousSwap.delta=r?n.x:n.y;const p=this._getItemOffsetPx(l,d,h),u=this._getSiblingOffsetPx(c,s,h),g=s.slice();U(s,c,o),this.sorted.next({previousIndex:c,currentIndex:o,container:this,item:t}),s.forEach((e,i)=>{if(g[i]===e)return;const n=e.drag===t,s=n?p:u,o=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=s,r?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,I(e.clientRect,0,s)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,I(e.clientRect,s,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,n=0,s=0;if(this._parentPositions.positions.forEach((o,r)=>{r!==this._document&&o.clientRect&&!i&&A(o.clientRect,.05,t,e)&&([n,s]=function(t,e,i,n){const s=tt(e,n),o=et(e,i);let r=0,c=0;if(s){const e=t.scrollTop;1===s?e>0&&(r=1):t.scrollHeight-e>t.clientHeight&&(r=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(c=1):t.scrollWidth-e>t.clientWidth&&(c=2)}return[r,c]}(r,o.clientRect,t,e),(n||s)&&(i=r))}),!n&&!s){const{width:o,height:r}=this._viewportRuler.getViewportSize(),c={width:o,height:r,top:0,right:o,bottom:r,left:0};n=tt(c,e),s=et(c,t),i=window}!i||n===this._verticalScrollDirection&&s===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=i,(n||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Object(u.e)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:R(e)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(u.e)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const n="horizontal"===this._orientation,s=e[t].clientRect,o=e[t+-1*i];let r=s[n?"width":"height"]*i;if(o){const t=n?"left":"top",e=n?"right":"bottom";-1===i?r-=o.clientRect[t]-s[e]:r+=s[t]-o.clientRect[e]}return r}_getItemOffsetPx(t,e,i){const n="horizontal"===this._orientation;let s=n?e.left-t.left:e.top-t.top;return-1===i&&(s+=n?e.width-t.width:e.height-t.height),s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return n?t>=s.right:e>=s.bottom}{const s=i[0].clientRect;return n?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,n){const s="horizontal"===this._orientation;return Z(this._itemPositions,({drag:o,clientRect:r},c,a)=>{if(o===t)return a.length<2;if(n){const t=s?n.x:n.y;if(o===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return s?e>=Math.floor(r.left)&&e<Math.floor(r.right):i>=Math.floor(r.top)&&i<Math.floor(r.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return E(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(n=>n._canReceive(t,e,i))}_canReceive(t,e,i){if(!E(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;const s=Object(u.e)(this.element);return n===s||s.contains(n)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{I(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(p.c)(Object(u.e)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function Z(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function Q(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function J(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function tt(t,e){const{top:i,bottom:n,height:s}=t,o=.05*s;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}function et(t,e){const{left:i,right:n,width:s}=t,o=.05*s;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}const it=Object(p.e)({passive:!1,capture:!0});let nt=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new g.a,this.pointerUp=new g.a,this.scroll=new g.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,it)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,it)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),i=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:it}).set(i,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:it}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(o.hc(o.G),o.hc(n.e))},t.\u0275prov=Object(o.Tb)({factory:function(){return new t(Object(o.hc)(o.G),Object(o.hc)(n.e))},token:t,providedIn:"root"}),t})();const st={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ot=(()=>{class t{constructor(t,e,i,n){this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(t,e=st){return new N(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new K(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(o.hc(n.e),o.hc(o.G),o.hc(h.g),o.hc(nt))},t.\u0275prov=Object(o.Tb)({factory:function(){return new t(Object(o.hc)(n.e),Object(o.hc)(o.G),Object(o.hc)(h.g),Object(o.hc)(nt))},token:t,providedIn:"root"}),t})();const rt=new o.v("CDK_DRAG_PARENT");let ct=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new g.a,this._disabled=!1,this._parentDrag=e,D(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(u.c)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.o),o.Xb(rt,8))},t.\u0275dir=o.Sb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),at=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.T))},t.\u0275dir=o.Sb({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),lt=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Object(u.c)(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.T))},t.\u0275dir=o.Sb({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const dt=new o.v("CDK_DRAG_CONFIG"),ht=new o.v("CDK_DROP_LIST");let pt=(()=>{class t{constructor(t,e,i,n,s,r,c,a,l){this.element=t,this.dropContainer=e,this._document=i,this._ngZone=n,this._viewContainerRef=s,this._dir=c,this._changeDetectorRef=l,this._destroyed=new g.a,this.started=new o.q,this.released=new o.q,this.ended=new o.q,this.entered=new o.q,this.exited=new o.q,this.dropped=new o.q,this.moved=new m.a(t=>{const e=this._dragRef.moved.pipe(Object(O.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=a.createDrag(t,{dragStartThreshold:r&&null!=r.dragStartThreshold?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&null!=r.pointerDirectionChangeThreshold?r.pointerDirectionChangeThreshold:5,zIndex:null==r?void 0:r.zIndex}),this._dragRef.data=this,r&&this._assignDefaults(r),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Object(u.c)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(y.a)(1),Object(x.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(P.a)(this._handles),Object(a.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Object(S.a)(t=>Object(C.a)(...t.map(t=>t._stateChanges.pipe(Object(P.a)(t))))),Object(x.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,i=t.element.nativeElement;t.disabled?e.disableHandle(i):e.enableHandle(i)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?ut(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+`Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return ut(this.element.nativeElement,t);const e=Object(u.e)(t);if(Object(o.fb)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:Object(u.f)(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(s),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:i,constrainPosition:n,previewClass:s,boundaryElement:o,draggingDisabled:r,rootElementSelector:c}=t;this.disabled=null!=r&&r,this.dragStartDelay=i||0,e&&(this.lockAxis=e),n&&(this.constrainPosition=n),s&&(this.previewClass=s),o&&(this.boundaryElement=o),c&&(this.rootElementSelector=c)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.o),o.Xb(ht,12),o.Xb(n.e),o.Xb(o.G),o.Xb(o.Y),o.Xb(dt,8),o.Xb(w.b,8),o.Xb(ot),o.Xb(o.h))},t.\u0275dir=o.Sb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var n;1&t&&(o.Qb(i,lt,!0),o.Qb(i,at,!0),o.Qb(i,ct,!0)),2&t&&(o.Bc(n=o.mc())&&(e._previewTemplate=n.first),o.Bc(n=o.mc())&&(e._placeholderTemplate=n.first),o.Bc(n=o.mc())&&(e._handles=n))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&o.Pb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[o.Lb([{provide:rt,useExisting:t}]),o.Kb]}),t})();function ut(t,e){let i=t.parentElement;for(;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}let gt=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(u.c)(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Sb({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),t})(),bt=0,mt=(()=>{class t{constructor(e,i,n,s,r,c,a){this.element=e,this._changeDetectorRef=n,this._dir=s,this._group=r,this._scrollDispatcher=c,this._destroyed=new g.a,this.connectedTo=[],this.id=`cdk-drop-list-${bt++}`,this.enterPredicate=()=>!0,this.dropped=new o.q,this.entered=new o.q,this.exited=new o.q,this.sorted=new o.q,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,a&&this._assignDefaults(a),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),r&&r._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Object(u.c)(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,i,n){this._dropListRef.drop(t._dragRef,e,i._dropListRef,n,{x:0,y:0})}enter(t,e,i){this._dropListRef.enter(t._dragRef,e,i)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(P.a)(this._dir.value),Object(x.a)(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const i=Object(u.b)(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===i.indexOf(t)&&i.push(t)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Object(u.c)(this.sortingDisabled),e.autoScrollDisabled=Object(u.c)(this.autoScrollDisabled),e.connectedTo(i.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:i,sortingDisabled:n,listAutoScrollDisabled:s,listOrientation:o}=t;this.disabled=null!=i&&i,this.sortingDisabled=null!=n&&n,this.autoScrollDisabled=null!=s&&s,this.orientation=o||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.o),o.Xb(ot),o.Xb(o.h),o.Xb(w.b,8),o.Xb(gt,12),o.Xb(h.e),o.Xb(dt,8))},t.\u0275dir=o.Sb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(o.gc("id",e.id),o.Pb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[o.Lb([{provide:gt,useValue:void 0},{provide:ht,useExisting:t}])]}),t._dropLists=[],t})(),ft=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},providers:[ot],imports:[h.b]}),t})();class vt{constructor(){this.AllItems=[],this.Selected=[]}get Single(){var t;return 1===(null===(t=this.Selected)||void 0===t?void 0:t.length)?this.Selected[0]:null}get IsFirst(){return this.Single?this.AllItems[0].Id===this.Single.Id:null}get IsLast(){return this.Single?this.AllItems[this.AllItems.length-1].Id===this.Single.Id:null}}var _t=i("3Wl9"),zt=i("h0m+");class Ct{constructor(){this.Enabled=!1}}class xt{constructor(){this.RewriteTo=""}}class Ot extends Ct{constructor(){super(...arguments),this.ActionType="UrlRewrite",this.Parameters=new xt}}var yt=i("3Pt+"),Pt=i("t7qs"),St=i("OzZK"),wt=i("RwU8"),Tt=i("C2AL");function Dt(t,e){1&t&&(o.dc(0,"div"),o.Oc(1,"Action"),o.cc())}const kt=["*"];let Mt=(()=>{class t{constructor(){this.ok=new o.q,this.cancel=new o.q}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Rb({type:t,selectors:[["action-basic-modal"]],hostAttrs:[1,"flex-grow-column"],inputs:{form:"form"},outputs:{ok:"ok",cancel:"cancel"},ngContentSelectors:kt,decls:15,vars:2,consts:[[1,"modal-header",2,"padding","10px !important","display","flex"],[2,"font-size","2em","font-weight","bold","line-height","1.4285em","color","whitesmoke","margin","auto"],["dbPortal","ActionModalHeader-Left",1,"Irgendwos"],["left","dbPortal"],[4,"ngIf"],[2,"flex-grow","1"],["dbPortal","ActionModalHeader-Right"],[1,"modal-content",2,"padding-bottom","10px"],[1,"modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(t,e){if(1&t&&(o.uc(),o.dc(0,"div",0),o.dc(1,"div",1),o.Zb(2,2,3),o.Mc(4,Dt,2,0,"div",4),o.cc(),o.Yb(5,"div",5),o.dc(6,"div"),o.Zb(7,6),o.cc(),o.cc(),o.dc(8,"div",7),o.tc(9),o.cc(),o.dc(10,"div",8),o.dc(11,"button",9),o.lc("click",(function(){return e.ok.next()})),o.Oc(12,"Save"),o.cc(),o.dc(13,"button",10),o.lc("click",(function(){return e.cancel.next()})),o.Oc(14,"Cancel"),o.cc(),o.cc()),2&t){const t=o.Cc(3);o.Mb(4),o.vc("ngIf",!t.hasSource),o.Mb(7),o.vc("disabled",!e.form.valid)}},directives:[Pt.d,n.t,St.a,wt.a,Tt.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], action-basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], action-basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}action-basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}action-basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),t})();var Rt=i("ocnv"),Et=i("B+r4"),It=i("PTRe");function At(t,e){1&t&&o.Oc(0," Url - Rewrite ")}let Lt=(()=>{class t{constructor(t,e){this.fb=t,this.context=e}ngOnInit(){this.form=this.fb.group({RewriteTo:[]}),this.form.patchValue(this.context.data.Parameters)}ok(){this.context.invoke("OK",this.form.value),this.context.handle.Close()}cancel(){this.context.handle.Close()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(yt.d),o.Xb(zt.d))},t.\u0275cmp=o.Rb({type:t,selectors:[["ng-component"]],decls:7,vars:2,consts:[[3,"form","ok","cancel"],["nz-form","",2,"width","100%",3,"formGroup"],["nzRequired","","nzFor","RewriteTo"],["nz-input","","formControlName","RewriteTo","id","RewriteTo",2,"width","100%"],["dbPortalTemplate","ActionModalHeader-Left"]],template:function(t,e){1&t&&(o.dc(0,"action-basic-modal",0),o.lc("ok",(function(){return e.ok()}))("cancel",(function(){return e.cancel()})),o.dc(1,"form",1),o.dc(2,"nz-form-label",2),o.Oc(3,"RewriteTo"),o.cc(),o.dc(4,"nz-form-control"),o.Yb(5,"input",3),o.cc(),o.Mc(6,At,1,0,"ng-template",4),o.cc(),o.cc()),2&t&&(o.vc("form",e.form),o.Mb(1),o.vc("formGroup",e.form))},directives:[Mt,yt.q,yt.m,Rt.b,yt.g,Et.a,Rt.d,Rt.a,It.a,yt.c,yt.l,yt.f,Pt.e],styles:[""]}),t})();class jt{constructor(){this.RedirectTo="",this.Permanent=!1,this.PreserveMethod=!0}}class Bt extends Ct{constructor(){super(...arguments),this.ActionType="UrlRedirect",this.Parameters=new jt}}var Nt=i("TaO5");function Ht(t,e){1&t&&o.Oc(0," Url - Redirect ")}let Ft=(()=>{class t{constructor(t,e){this.fb=t,this.context=e}ngOnInit(){this.form=this.fb.group({RedirectTo:[],Permanent:[],PreserveMethod:[]}),this.form.patchValue(this.context.data.Parameters)}ok(){this.context.invoke("OK",this.form.value),this.context.handle.Close()}cancel(){this.context.handle.Close()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(yt.d),o.Xb(zt.d))},t.\u0275cmp=o.Rb({type:t,selectors:[["ng-component"]],decls:14,vars:2,consts:[[3,"form","ok","cancel"],["nz-form","",2,"width","100%",3,"formGroup"],["nzRequired","","nzFor","RedirectTo"],["nz-input","","formControlName","RedirectTo","id","RedirectTo",2,"width","100%"],[2,"display","flex","flex-direction","row"],[1,"field"],["nz-checkbox","","formControlName","PreserveMethod"],["nz-checkbox","","formControlName","Permanent"],["dbPortalTemplate","ActionModalHeader-Left"]],template:function(t,e){1&t&&(o.dc(0,"action-basic-modal",0),o.lc("ok",(function(){return e.ok()}))("cancel",(function(){return e.cancel()})),o.dc(1,"form",1),o.dc(2,"nz-form-label",2),o.Oc(3,"RedirectTo"),o.cc(),o.dc(4,"nz-form-control"),o.Yb(5,"input",3),o.cc(),o.dc(6,"div",4),o.dc(7,"div",5),o.dc(8,"label",6),o.Oc(9,"PreserveMethod"),o.cc(),o.cc(),o.dc(10,"div",5),o.dc(11,"label",7),o.Oc(12,"Permanent"),o.cc(),o.cc(),o.cc(),o.Mc(13,Ht,1,0,"ng-template",8),o.cc(),o.cc()),2&t&&(o.vc("form",e.form),o.Mb(1),o.vc("formGroup",e.form))},directives:[Mt,yt.q,yt.m,Rt.b,yt.g,Et.a,Rt.d,Rt.a,It.a,yt.c,yt.l,yt.f,Nt.a,Pt.e],styles:[".field[_ngcontent-%COMP%]{padding-top:5px}"]}),t})();class $t{constructor(){this.Language="Typescript"}}class Vt extends Ct{constructor(){super(...arguments),this.ActionType="Script",this.Parameters=new $t}}var Xt=i("jfkr"),Yt=i("zAKX");function Gt(t,e){1&t&&o.Oc(0," Script ")}function qt(t,e){1&t&&(o.dc(0,"div",6),o.dc(1,"div",7),o.dc(2,"nz-select",8),o.Yb(3,"nz-option",9),o.Yb(4,"nz-option",10),o.Yb(5,"nz-option",11),o.cc(),o.cc(),o.cc())}const Ut=function(){return{noLib:!0}};let Wt=(()=>{class t{constructor(t,e,i){this.fb=t,this.context=e,this.rulesService=i,this.typings$=this.rulesService.typings$.pipe(Object(a.a)(t=>console.log(t)))}ngOnInit(){this.form=this.fb.group({Language:[],SourceCode:[]}),this.context.data.Parameters.Language||(this.context.data.Parameters.Language="Typescript"),this.form.patchValue(this.context.data.Parameters)}initRestrictionsAccordion(t){$(t.nativeElement).accordion()}ok(){this.context.invoke("OK",this.form.value),this.context.handle.Close()}cancel(){this.context.handle.Close()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(yt.d),o.Xb(zt.d),o.Xb(_t.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["ng-component"]],decls:7,vars:8,consts:[[3,"form","ok","cancel"],["nz-form","",1,"flex-grow-column",2,"width","100%",3,"formGroup"],[1,"field","flex-grow-column"],["formControlName","SourceCode",3,"language","typings","tsOptions"],["dbPortalTemplate","ActionModalHeader-Left"],["dbPortalTemplate","ActionModalHeader-Right"],[1,"fields"],[2,"width","180px"],["formControlName","Language",2,"width","100%"],["nzLabel","Typescript","nzValue","Typescript"],["nzLabel","Javascript","nzValue","Javascript"],["nzLabel","Powershell","nzValue","Powershell"]],template:function(t,e){1&t&&(o.dc(0,"action-basic-modal",0),o.lc("ok",(function(){return e.ok()}))("cancel",(function(){return e.cancel()})),o.dc(1,"form",1),o.dc(2,"div",2),o.Yb(3,"db-editor",3),o.pc(4,"async"),o.cc(),o.Mc(5,Gt,1,0,"ng-template",4),o.Mc(6,qt,6,0,"ng-template",5),o.cc(),o.cc()),2&t&&(o.vc("form",e.form),o.Mb(1),o.vc("formGroup",e.form),o.Mb(2),o.vc("language",e.form.value.Language)("typings",o.qc(4,5,e.typings$))("tsOptions",o.wc(7,Ut)))},directives:[Mt,yt.q,yt.m,Rt.b,yt.g,Xt.a,yt.l,yt.f,Pt.e,Yt.b,Yt.a],pipes:[n.b],styles:[""]}),t})(),Kt=(()=>{class t{constructor(t,e){this.modal=t,this.componentFactoryResolver=e}GetIcon(t){switch(t.ActionType){case"UrlRedirect":return"rollback";case"UrlRewrite":return"edit";case"Proxy":return"fa#random";case"Script":return"code"}return"hat wizard"}GetModal(t){switch(t.toLowerCase()){case"urlredirect":return this.modal.FromComponent(Ft).SetModalOptions({componentFactoryResolver:this.componentFactoryResolver,overlayConfig:{width:"50%",maxWidth:"500px"}}).CloseOnOutsideClick();case"urlrewrite":return this.modal.FromComponent(Lt).SetModalOptions({componentFactoryResolver:this.componentFactoryResolver,overlayConfig:{width:"50%",maxWidth:"500px"}}).CloseOnOutsideClick();case"script":return this.modal.FromComponent(Wt).SetModalOptions({componentFactoryResolver:this.componentFactoryResolver,overlayConfig:{width:"80%",height:"90%"}}).CloseOnOutsideClick()}}}return t.\u0275fac=function(e){return new(e||t)(o.hc(zt.b),o.hc(o.k))},t.\u0275prov=o.Tb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Zt=i("6NWb"),Qt=i("FwiY"),Jt=i("GR68"),te=i("YF2q"),ee=i("rDax"),ie=i("79xS"),ne=i("JgHy"),se=i("/KA4"),oe=i("/uUt"),re=i("pdGh");const ce=["overlay"];function ae(t,e){if(1&t&&(o.bc(0),o.Oc(1),o.ac()),2&t){const t=o.oc(2);o.Mb(1),o.Pc(t.nzTitle)}}function le(t,e){if(1&t&&(o.dc(0,"div",2),o.dc(1,"div",3),o.Yb(2,"div",4),o.dc(3,"div",5),o.Mc(4,ae,2,1,"ng-container",6),o.cc(),o.cc(),o.cc()),2&t){const t=o.oc();o.vc("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),o.Mb(4),o.vc("nzStringTemplateOutlet",t.nzTitle)}}let de=(()=>{class t{constructor(t,e,i,n,s){this.elementRef=t,this.hostView=e,this.resolver=i,this.renderer=n,this.noAnimation=s,this.nzTrigger="hover",this.nzPlacement="top",this.nzMouseEnterDelay=.15,this.nzMouseLeaveDelay=.1,this.needProxyProperties=["nzOverlayClassName","nzOverlayStyle","nzMouseEnterDelay","nzMouseLeaveDelay","nzVisible","noAnimation"],this.nzVisibleChange=new o.q,this.visible=!1,this.destroy$=new g.a,this.triggerDisposables=[]}get title(){return this.specificTitle||this.directiveNameTitle||this.nzTitle||null}get content(){return this.specificContent||this.directiveNameContent||this.nzContent||null}get placement(){return this.specificPlacement||this.nzPlacement}get trigger(){return void 0!==this.specificTrigger?this.specificTrigger:this.nzTrigger}ngOnChanges(t){const{nzTrigger:e,specificTrigger:i}=t,n=i||e;n&&!n.isFirstChange()&&this.registerTriggers(),this.component&&this.updateChangedProperties(t),!t.nzTitle||this.specificTitle||this.directiveNameTitle||Object(ie.c)("'nzTitle' of 'nz-tooltip' is deprecated and will be removed in 10.0.0.\nPlease use 'nzTooltipTitle' instead. The same with 'nz-popover' and 'nz-popconfirm'."),t.nzContent&&!this.specificContent&&Object(ie.c)("'nzContent' of 'nz-popover' is deprecated and will be removed in 10.0.0.\nPlease use 'nzPopoverContent' instead."),t.nzPlacement&&!this.specificPlacement&&Object(ie.c)("'nzPlacement' of 'nz-tooltip' is deprecated and will be removed in 10.0.0.\nPlease use 'nzTooltipContent' instead. The same with 'nz-popover' and 'nz-popconfirm'."),t.nzTrigger&&!this.specificTrigger&&Object(ie.c)("'nzTrigger' of 'nz-tooltip' is deprecated and will be removed in 10.0.0.\nPlease use 'nzTooltipTrigger' instead. The same with 'nz-popover' and 'nz-popconfirm'.")}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){var t;null===(t=this.component)||void 0===t||t.show()}hide(){var t;null===(t=this.component)||void 0===t||t.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const t=this.hostView.createComponent(this.componentFactory);this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin({elementRef:this.specificOrigin||this.elementRef}),this.updateChangedProperties(this.needProxyProperties),this.component.nzVisibleChange.pipe(Object(oe.a)(),Object(x.a)(this.destroy$)).subscribe(t=>{this.visible=t,this.nzVisibleChange.emit(t)})}registerTriggers(){const t=this.elementRef.nativeElement,e=this.trigger;if(this.removeTriggerListeners(),"hover"===e){let e;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this.nzMouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{var t;this.delayEnterLeave(!0,!1,this.nzMouseLeaveDelay),(null===(t=this.component)||void 0===t?void 0:t.overlay.overlayRef)&&!e&&(e=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(e,"mouseenter",()=>{this.delayEnterLeave(!1,!0)})),this.triggerDisposables.push(this.renderer.listen(e,"mouseleave",()=>{this.delayEnterLeave(!1,!1)})))}))}else"focus"===e?(this.triggerDisposables.push(this.renderer.listen(t,"focus",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"blur",()=>this.hide()))):"click"===e&&this.triggerDisposables.push(this.renderer.listen(t,"click",t=>{t.preventDefault(),this.show()}))}updateChangedProperties(t){var e;const i=Array.isArray(t);if((i?t:Object.keys(t)).forEach(t=>{-1!==this.needProxyProperties.indexOf(t)&&this.updateComponentValue(t,this[t])}),i)this.updateComponentValue("nzTitle",this.title),this.updateComponentValue("nzContent",this.content),this.updateComponentValue("nzPlacement",this.placement),this.updateComponentValue("nzTrigger",this.trigger);else{const e=t;(e.specificTitle||e.directiveNameTitle||e.nzTitle)&&this.updateComponentValue("nzTitle",this.title),(e.specificContent||e.directiveNameContent||e.nzContent)&&this.updateComponentValue("nzContent",this.content),(e.specificTrigger||e.nzTrigger)&&this.updateComponentValue("nzTrigger",this.trigger),(e.specificPlacement||e.nzPlacement)&&this.updateComponentValue("nzPlacement",this.placement)}null===(e=this.component)||void 0===e||e.updateByDirective()}updateComponentValue(t,e){void 0!==e&&(this.component[t]=e)}delayEnterLeave(t,e,i=-1){this.delayTimer?this.clearTogglingTimer():i>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,e?this.show():this.hide()},1e3*i):e&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return t.\u0275fac=function(t){o.kc()},t.\u0275dir=o.Sb({type:t,inputs:{nzTrigger:"nzTrigger",nzPlacement:"nzPlacement",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzTitle:"nzTitle",nzContent:"nzContent",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzVisible:"nzVisible"},outputs:{nzVisibleChange:"nzVisibleChange"},features:[o.Kb]}),t})(),he=(()=>{class t{constructor(t,e){this.cdr=t,this.noAnimation=e,this.nzVisibleChange=new g.a,this.nzTitle=null,this.nzContent=null,this.nzOverlayStyle={},this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this._classMap={},this._hasBackdrop=!1,this._prefix="ant-tooltip-placement",this._positions=[...ne.a]}set nzVisible(t){const e=Object(se.g)(t);this._visible!==e&&(this._visible=e,this.nzVisibleChange.next(e))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t,this._hasBackdrop="click"===this._trigger}get nzTrigger(){return this._trigger}set nzPlacement(t){t!==this.preferredPlacement&&(this.preferredPlacement=t,this._positions=[ne.d[this.nzPlacement],...this._positions])}get nzPlacement(){return this.preferredPlacement}ngOnDestroy(){this.nzVisibleChange.complete()}show(){this.nzVisible||this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges())}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.setClassMap(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=Object(ne.e)(t),this.setClassMap(),this.cdr.detectChanges()}setClassMap(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-${this.preferredPlacement}`]:!0}}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}}return t.\u0275fac=function(t){o.kc()},t.\u0275dir=o.Sb({type:t,viewQuery:function(t,e){var i;1&t&&o.Sc(ce,!0),2&t&&o.Bc(i=o.mc())&&(e.overlay=i.first)}}),t})(),pe=(()=>{class t extends de{constructor(t,e,i,n,s){super(t,e,i,n,s),this.componentFactory=this.resolver.resolveComponentFactory(ue)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.o),o.Xb(o.Y),o.Xb(o.k),o.Xb(o.M),o.Xb(te.a,9))},t.\u0275dir=o.Sb({type:t,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(t,e){2&t&&o.Pb("ant-tooltip-open",e.visible)},inputs:{specificTitle:["nzTooltipTitle","specificTitle"],directiveNameTitle:["nz-tooltip","directiveNameTitle"],specificTrigger:["nzTooltipTrigger","specificTrigger"],specificPlacement:["nzTooltipPlacement","specificPlacement"],specificOrigin:["nzTooltipOrigin","specificOrigin"]},exportAs:["nzTooltip"],features:[o.Jb]}),t})(),ue=(()=>{class t extends he{constructor(t,e){super(t,e),this.noAnimation=e,this.nzTitle=null}isEmpty(){return!((t=this.nzTitle)instanceof o.T||""!==t&&Object(se.d)(t));var t}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.h),o.Xb(te.a,9))},t.\u0275cmp=o.Rb({type:t,selectors:[["nz-tooltip"]],inputs:{nzTitle:"nzTitle"},exportAs:["nzTooltipComponent"],features:[o.Jb],decls:2,vars:4,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","backdropClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-inner"],[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&(o.Mc(0,le,5,6,"ng-template",0,1,o.Nc),o.lc("backdropClick",(function(){return e.hide()}))("detach",(function(){return e.hide()}))("positionChange",(function(t){return e.onPositionChange(t)}))),2&t&&o.vc("cdkConnectedOverlayOrigin",e.origin)("cdkConnectedOverlayOpen",e._visible)("cdkConnectedOverlayHasBackdrop",e._hasBackdrop)("cdkConnectedOverlayPositions",e._positions)},directives:[ee.a,ne.b,n.q,n.w,te.a,re.b],encapsulation:2,data:{animation:[Jt.e]},changeDetection:0}),t})(),ge=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[n.c,ee.e,re.a,ne.c,te.b]]}),t})();var be=i("Q8cG");const me=["contextMenu"],fe=["addRuleTemplate"];function ve(t,e){1&t&&(o.dc(0,"div",8),o.dc(1,"div",9),o.Oc(2,"Currently there is nothing..."),o.cc(),o.dc(3,"p"),o.Oc(4,"Use the ContextMenu to create your first rule!"),o.cc(),o.cc())}function _e(t,e){if(1&t&&o.Yb(0,"i",23),2&t){const t=o.oc().$implicit,e=o.oc().$implicit;o.Pb("disabled",!e.Enabled),o.vc("nzType",t.icon)}}function ze(t,e){if(1&t&&o.Yb(0,"fa-icon",24),2&t){const t=o.oc().$implicit,e=o.oc().$implicit;o.Pb("disabled",!e.Enabled),o.vc("icon",t.icon)}}function Ce(t,e){if(1&t&&(o.bc(0),o.Mc(1,_e,1,3,"i",21),o.Mc(2,ze,1,3,"fa-icon",22),o.ac()),2&t){const t=e.$implicit;o.Mb(1),o.vc("ngIf","ant"==t.type),o.Mb(1),o.vc("ngIf","fa"==t.type)}}function xe(t,e){if(1&t&&(o.dc(0,"span",19),o.Mc(1,Ce,3,2,"ng-container",20),o.cc()),2&t){const t=e.$implicit,i=o.oc(2);o.vc("nzTooltipTitle",t.ActionType),o.Mb(1),o.vc("ngIf",i.prepareIcon(i.GetIcon(t)))}}const Oe=function(){return["fas","ellipsis-v"]};function ye(t,e){if(1&t){const t=o.ec();o.dc(0,"div",10),o.lc("click",(function(i){o.Ec(t);const n=e.$implicit;return o.oc().clickAction(i,n)}))("contextmenu",(function(i){o.Ec(t);const n=e.$implicit,s=o.oc(),r=o.Cc(11);return s.openItemContextMenu(i,r,n)}))("dblclick",(function(){o.Ec(t);const i=e.$implicit;return o.oc().editRule(i.Item.Id)})),o.dc(1,"div",11),o.dc(2,"div",12),o.Yb(3,"fa-icon",13),o.cc(),o.dc(4,"div",14),o.dc(5,"div",15),o.Oc(6),o.cc(),o.dc(7,"div"),o.Oc(8),o.cc(),o.cc(),o.dc(9,"div",16),o.dc(10,"div"),o.Oc(11),o.cc(),o.dc(12,"div"),o.Oc(13),o.cc(),o.cc(),o.dc(14,"div",17),o.dc(15,"div"),o.Oc(16),o.cc(),o.Mc(17,xe,2,2,"span",18),o.cc(),o.cc(),o.cc()}if(2&t){const t=e.$implicit;o.Pb("selected",t.Selected)("disabled",!t.Item.Enabled),o.Mb(3),o.vc("icon",o.wc(11,Oe)),o.Mb(3),o.Pc(t.Item.Name),o.Mb(2),o.Pc(t.Item.Path),o.Mb(3),o.Pc(t.Item.Scheme),o.Mb(2),o.Pc(t.Item.Hostname),o.Mb(3),o.Qc(" ",(null==t.Item.Actions?null:t.Item.Actions.length)||0," Actions "),o.Mb(1),o.vc("ngForOf",t.Item.Actions)}}function Pe(t,e){if(1&t){const t=o.ec();o.dc(0,"ul",25),o.dc(1,"li",26),o.dc(2,"ul",27),o.dc(3,"li",28),o.lc("click",(function(){return o.Ec(t),o.oc().CreateRuleOnTop()})),o.Yb(4,"i",29),o.Oc(5," Top "),o.cc(),o.dc(6,"li",28),o.lc("click",(function(){return o.Ec(t),o.oc().CreateRuleOnBottom()})),o.Yb(7,"i",30),o.Oc(8," Bottom "),o.cc(),o.cc(),o.cc(),o.cc()}2&t&&(o.Mb(4),o.vc("nzRotate",90),o.Mb(3),o.vc("nzRotate",90))}const Se=function(){return["fas","toggle-on"]};function we(t,e){if(1&t){const t=o.ec();o.dc(0,"li",28),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().SetRuleEnabled(e.Single,!0)})),o.Yb(1,"fa-icon",35),o.Oc(2," Enable "),o.cc()}2&t&&(o.Mb(1),o.vc("icon",o.wc(1,Se)))}const Te=function(){return["fas","toggle-off"]};function De(t,e){if(1&t){const t=o.ec();o.dc(0,"li",28),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().SetRuleEnabled(e.Single,!1)})),o.Yb(1,"fa-icon",35),o.Oc(2," Disable "),o.cc()}2&t&&(o.Mb(1),o.vc("icon",o.wc(1,Te)))}function ke(t,e){if(1&t){const t=o.ec();o.dc(0,"li",26),o.dc(1,"ul",27),o.dc(2,"li",28),o.lc("click",(function(){return o.Ec(t),o.oc(2).CreateRuleOnTop()})),o.Yb(3,"i",29),o.Oc(4," Top "),o.cc(),o.dc(5,"li",28),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().CreateRuleBefore(e.Single)})),o.Yb(6,"i",36),o.Oc(7," Before "),o.cc(),o.dc(8,"li",28),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().CreateRuleAfter(e.Single)})),o.Yb(9,"i",37),o.Oc(10," After "),o.cc(),o.dc(11,"li",28),o.lc("click",(function(){return o.Ec(t),o.oc(2).CreateRuleOnBottom()})),o.Yb(12,"i",30),o.Oc(13," Bottom "),o.cc(),o.cc(),o.cc()}2&t&&(o.Mb(3),o.vc("nzRotate",90),o.Mb(9),o.vc("nzRotate",90))}function Me(t,e){if(1&t){const t=o.ec();o.dc(0,"ul",25),o.Mc(1,we,3,2,"li",31),o.Mc(2,De,3,2,"li",31),o.Mc(3,ke,14,2,"li",32),o.Yb(4,"li",33),o.dc(5,"li",28),o.lc("click",(function(){o.Ec(t);const i=e.$implicit;return o.oc().RemoveRules(i.Selected)})),o.Yb(6,"i",34),o.Oc(7," Remove "),o.cc(),o.cc()}if(2&t){const t=e.$implicit;o.Mb(1),o.vc("ngIf",!1===(null==t.Single?null:t.Single.Enabled)),o.Mb(1),o.vc("ngIf",!0===(null==t.Single?null:t.Single.Enabled)),o.Mb(1),o.vc("ngIf",t.Single)}}const Re=function(){return[]};let Ee=(()=>{class t{constructor(t,e,i,n,s,r,c){this.rulesService=t,this.cref=e,this.overlay=i,this.viewContainerRef=n,this.router=s,this.route=r,this.actionHelper=c,this._rules=[],this.rulesSubject$=new l.a(this._rules),this.rules$=this.rulesSubject$.asObservable(),this.rulesChanged=new o.q,this.selected=[],this.registered=[],this.onTouched=()=>{}}set rules(t){this._rules=(t||[]).map(t=>{const e=this._rules.find(e=>e.Item.Id===t.Id);return e?(e.Item=t,e):new d(t)}),this.rulesSubject$.next(this._rules)}get rules(){return this._rules.map(t=>t.Item)}ngOnInit(){this.rulesService.MiddlerRules$.pipe(Object(a.a)(t=>{this.rules=t})).subscribe()}ngAfterViewInit(){}clickAction(t,e){t.ctrlKey?e.Selected=!e.Selected:this._rules=this._rules.map(t=>(t.Selected=t==e,t))}openOuterContextMenu(t,e){var i;t.stopPropagation(),null===(i=this.ContextMenu)||void 0===i||i.Close(),this.ContextMenu=this.overlay.OpenContextMenu(t,e,this.viewContainerRef,null)}openItemContextMenu(t,e,i){var n;t.stopPropagation();const s=this._rules.filter(t=>t.Selected);0!=s.length&&s.includes(i)||(this._rules=this._rules.map(t=>(t.Selected=t==i,t))),null===(n=this.ContextMenu)||void 0===n||n.Close(),this.ContextMenu=this.overlay.OpenContextMenu(t,e,this.viewContainerRef,this.BuildContext())}DeSelectAll(){console.log("Deselect"),this._rules=this._rules.map(t=>(t.Selected=!1,t))}SetRuleEnabled(t,e){this.rulesService.SetRuleEnabled(t,e)}GetActionByIndex(t){return this.rules[t]}GetActionById(t){return this.rules.find(e=>e.Id===t)}ClearSelection(){this.selected=[],this.cref.markForCheck()}BuildContext(){const t=new vt;return t.AllItems=this.rules,t.Selected=this._rules.filter(t=>t.Selected).map(t=>t.Item),t}initContextMenu(t){}CreateRuleOnTop(){let t=new c.a;t.Enabled=!1,t.Order=this.rules&&0!=this.rules.length?this.rules[0].Order/2:10,this.rulesService.Add(t).subscribe(),this.ContextMenu.Close()}CreateRuleBefore(t){const e=this.rules.findIndex(e=>e.Order===t.Order);let i=new c.a;i.Enabled=!1,i.Order=0==e?t.Order/2:t.Order-(t.Order-this.rules[e-1].Order)/2,console.log(i),this.rulesService.Add(i).subscribe(),this.ContextMenu.Close()}CreateRuleAfter(t){const e=this.rules.findIndex(e=>e.Order===t.Order);let i=new c.a;i.Enabled=!1,i.Order=e==this.rules.length-1?this.rulesService.GetNextLastOrder():t.Order+(this.rules[e+1].Order-t.Order)/2,console.log(i),this.rulesService.Add(i).subscribe(),this.ContextMenu.Close()}CreateRuleOnBottom(){let t=new c.a;t.Enabled=!1,t.Order=this.rulesService.GetNextLastOrder(),this.rulesService.Add(t).subscribe(),this.ContextMenu.Close()}RemoveRules(t){t.forEach(t=>this.rulesService.Remove(t.Id).subscribe()),this.ContextMenu.Close()}SaveOrder(){this.rulesService.UpdateRulesOrder()}editRule(t){this.router.navigate([t],{relativeTo:this.route})}calculateRuleOrder(t){if(0===this.rules.length)return 10;if(0===t)return this.rules[0].Order/2;if(t>=this.rules.length)return this.rulesService.GetNextLastOrder();const e=this.rules[t-1].Order;return(this.rules[t].Order-e)/2+e}drop(t){if(t.previousContainer===t.container){const e=this.rulesService.MiddlerRules[t.previousIndex];let i=null;if(t.previousIndex<t.currentIndex?i="forward":t.previousIndex>t.currentIndex&&(i="back"),!i)return;if("forward"===i)if(t.currentIndex===this.rulesService.MiddlerRules.length-1)e.Order=this.rulesService.GetNextLastOrder();else{const i=this.rulesService.MiddlerRules[t.currentIndex];e.Order=(this.rulesService.MiddlerRules[t.currentIndex+1].Order-i.Order)/2+i.Order}else if("back"===i)if(0===t.currentIndex)e.Order=this.rulesService.MiddlerRules[0].Order/2;else{const i=this.rulesService.MiddlerRules[t.currentIndex-1];e.Order=(this.rulesService.MiddlerRules[t.currentIndex].Order-i.Order)/2+i.Order}U(this.rulesService.MiddlerRules,t.previousIndex,t.currentIndex),this.rulesService.MiddlerRules=[...this.rulesService.MiddlerRules],this.SaveOrder()}else{let e=new c.a;e.Enabled=!1,console.log(t),e.Order=this.calculateRuleOrder(t.currentIndex),this.rulesService.Add(e).subscribe()}}GetIcon(t){return this.actionHelper.GetIcon(t)}prepareIcon(t){if(!t)return null;if(t.startsWith("fa#")){let e={type:"fa",icon:null};return t=t.substring(3),e.icon=t.includes("|")?t.split("|"):t,e}return{type:"ant",icon:t}}propagateChange(t){this.rulesChanged.next(t),this.registered.forEach(e=>{e(t)})}writeValue(t){this.rules=t}registerOnChange(t){-1===this.registered.indexOf(t)&&this.registered.push(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){throw new Error("Method not implemented.")}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(_t.a),o.Xb(o.h),o.Xb(zt.c),o.Xb(o.Y),o.Xb(s.e),o.Xb(s.a),o.Xb(Kt))},t.\u0275cmp=o.Rb({type:t,selectors:[["enpoint-rules-list"]],viewQuery:function(t,e){var i;1&t&&(o.Sc(me,!0),o.Sc(fe,!0)),2&t&&(o.Bc(i=o.mc())&&(e.contextMenu=i.first),o.Bc(i=o.mc())&&(e.addRuleTemplate=i.first))},inputs:{rules:"rules"},outputs:{rulesChanged:"rulesChanged"},decls:12,vars:7,consts:[["cdkDropList","",1,"outer",2,"flex-grow","1","height","100%",3,"contextmenu"],["nullList","cdkDropList"],["cdkDropList","",1,"",2,"padding","2px","margin-top","8px","max-height","calc(100% - 30px)","overflow-y","auto",3,"cdkDropListDropped"],["rulesList","cdkDropList"],["style","text-align: center; font-size: 1.3em; font-weight: bold; color: #525e7678; line-height: 1.4em; line-height: 2em; margin: 0px 10px;",4,"ngIf"],["class","rule-item","cdkDrag","","cdkDragLockAxis","y",3,"selected","disabled","click","contextmenu","dblclick",4,"ngFor","ngForOf"],["outerContextMenu",""],["itemContextMenu",""],[2,"text-align","center","font-size","1.3em","font-weight","bold","color","#525e7678","line-height","1.4em","line-height","2em","margin","0px 10px"],[2,"font-size","1.5em"],["cdkDrag","","cdkDragLockAxis","y",1,"rule-item",3,"click","contextmenu","dblclick"],[2,"display","flex"],["cdkDragHandle","",1,"dragHandle",2,"padding","10px 0px 0px 5px"],["nz-icon","",2,"width","1.18em","margin","0 .25rem 0 0","font-size","1.2em",3,"icon"],[2,"padding","5px","min-width","50%","max-width","50%"],[2,"font-size","large","font-weight","bold","color","#292f3b"],[2,"padding","5px","min-width","200px","max-width","200px"],[2,"padding","5px"],["nz-tooltip","",3,"nzTooltipTitle",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],[4,"ngIf"],["style","font-size: large; text-align: left;","nz-icon","","nzTheme","outline",3,"nzType","disabled",4,"ngIf"],["style","font-size: large; text-align: left;","nz-icon","",3,"icon","disabled",4,"ngIf"],["nz-icon","","nzTheme","outline",2,"font-size","large","text-align","left",3,"nzType"],["nz-icon","",2,"font-size","large","text-align","left",3,"icon"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-submenu","","nzTitle","Add Rule","nzIcon","menu-unfold"],[1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","double-left","nzTheme","outline",3,"nzRotate"],["nz-icon","","nzType","double-right","nzTheme","outline",3,"nzRotate"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-submenu","","nzTitle","Add Rule","nzIcon","menu-unfold",4,"ngIf"],["nz-menu-divider",""],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-icon","",3,"icon"],["nz-icon","","nzType","up","nzTheme","outline"],["nz-icon","","nzType","down","nzTheme","outline"]],template:function(t,e){if(1&t){const t=o.ec();o.dc(0,"div",0,1),o.lc("contextmenu",(function(i){o.Ec(t);const n=o.Cc(9);return e.openOuterContextMenu(i,n)})),o.dc(2,"div",2,3),o.lc("cdkDropListDropped",(function(t){return e.drop(t)})),o.Mc(4,ve,5,0,"div",4),o.pc(5,"async"),o.Mc(6,ye,18,12,"div",5),o.pc(7,"async"),o.cc(),o.cc(),o.Mc(8,Pe,9,2,"ng-template",null,6,o.Nc),o.Mc(10,Me,8,3,"ng-template",null,7,o.Nc)}2&t&&(o.Mb(4),o.vc("ngIf",0===(o.qc(5,2,e.rules$)||o.wc(6,Re)).length),o.Mb(2),o.vc("ngForOf",o.qc(7,4,e.rules$)))},directives:[mt,n.t,n.s,pt,ct,Zt.b,Qt.b,Tt.a,pe,be.c,be.g,be.e,be.d],pipes:[n.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.rule-item[_ngcontent-%COMP%]{margin-bottom:10px!important;border-radius:0!important;box-shadow:0 0 3px 1px #cecece;background-color:#fff}.rule-item.disabled[_ngcontent-%COMP%]{opacity:.6;box-shadow:none;background-color:#e2e2e2}.rule-item[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{border-right:1px solid #fff}.rule-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.rule-item.selected[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{background-color:#292f3b;color:#fff}.rule-item[_ngcontent-%COMP%]:hover{background-color:#b2b7c2}.new-rule.ui.button[_ngcontent-%COMP%]{margin:0}.options[_ngcontent-%COMP%]{background-color:grey;height:50px}.list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:inherit!important}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:inherit}.dragHandle[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.list-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#e0e1e2}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{cursor:inherit}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:inherit}.list-item.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%], .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{border-radius:0!important;background-color:#2f2f2f;color:#f5f5f5}.outer.cdk-drop-list-dragging[_ngcontent-%COMP%] > .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}.anticon.disabled[_ngcontent-%COMP%]{color:#ccc}"],changeDetection:0}),t})(),Ie=(()=>{class t{constructor(t){this.uiService=t,t.Set(t=>{t.Header.Title="Endpoint Rules",t.Content.Scrollable=!1,t.Header.Icon="fa#stream"})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(r.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["ng-component"]],decls:2,vars:0,consts:[[2,"display","flex","flex-direction","column","flex-grow","1"]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.Yb(1,"enpoint-rules-list"),o.cc())},directives:[Ee],styles:[""]}),t})();var Ae=i("itXk"),Le=i("bHdf"),je=i("1zMv"),Be=i("NvTf"),Ne=i("mrSG"),He=i("LRne"),Fe=i("GU7r"),$e=i("SxV6"),Ve=i("pLZG"),Xe=i("2Suw"),Ye=i("JwMs");const Ge=["nz-tab-body",""];function qe(t,e){}function Ue(t,e){if(1&t&&(o.bc(0),o.Mc(1,qe,0,0,"ng-template",1),o.ac()),2&t){const t=o.oc();o.Mb(1),o.vc("ngTemplateOutlet",t.content)}}const We=["bodyTpl"],Ke=["titleTpl"];function Ze(t,e){1&t&&o.tc(0)}function Qe(t,e){1&t&&o.tc(0,1)}const Je=[[["","nz-tab-link",""]],"*"],ti=["[nz-tab-link]","*"],ei=["navContainerElement"],ii=["navListElement"],ni=["scrollListElement"];function si(t,e){}function oi(t,e){if(1&t&&(o.dc(0,"div",15),o.Mc(1,si,0,0,"ng-template",16),o.cc()),2&t){const t=o.oc();o.Mb(1),o.vc("ngTemplateOutlet",t.nzTabBarExtraContent)}}const ri=["*"],ci=["tabContent"];function ai(t,e){if(1&t&&(o.bc(0),o.Oc(1),o.ac()),2&t){const t=o.oc().$implicit;o.Mb(1),o.Pc(t.nzTitle)}}function li(t,e){if(1&t){const t=o.ec();o.dc(0,"div",6),o.lc("click",(function(){o.Ec(t);const i=e.index,n=e.$implicit;return o.oc(2).clickLabel(i,n.nzDisabled)})),o.Mc(1,ai,2,1,"ng-container",7),o.cc()}if(2&t){const t=e.$implicit,i=e.index,n=o.oc(2);o.Lc("margin-right",n.nzTabBarGutter,"px"),o.Pb("ant-tabs-tab-active",n.nzSelectedIndex==i&&!n.nzHideAll),o.vc("disabled",t.nzDisabled),o.Mb(1),o.vc("nzStringTemplateOutlet",t.nzTitle||t.title)}}function di(t,e){if(1&t&&o.Yb(0,"div",8),2&t){const t=e.$implicit,i=e.index,n=o.oc(2);o.vc("active",n.nzSelectedIndex==i&&!n.nzHideAll)("forceRender",t.nzForceRender)("content",t.template||t.content)}}function hi(t,e){if(1&t){const t=o.ec();o.bc(0),o.dc(1,"nz-tabs-nav",1),o.lc("nzOnNextClick",(function(){return o.Ec(t),o.oc().nzOnNextClick.emit()}))("nzOnPrevClick",(function(){return o.Ec(t),o.oc().nzOnPrevClick.emit()})),o.Mc(2,li,2,6,"div",2),o.cc(),o.dc(3,"div",3,4),o.Mc(5,di,1,3,"div",5),o.cc(),o.ac()}if(2&t){const t=o.oc();o.Mb(1),o.vc("nzSize",t.nzSize)("nzTabPosition",t.nzTabPosition)("nzType",t.nzType)("nzShowPagination",t.nzShowPagination)("nzPositionMode",t.tabPositionMode)("nzAnimated",t.inkBarAnimated)("ngStyle",t.nzTabBarStyle)("nzHideBar",t.nzHideAll)("nzTabBarExtraContent",t.nzTabBarExtraContent)("selectedIndex",t.nzSelectedIndex),o.Mb(1),o.vc("ngForOf",t.listOfNzTabComponent),o.Mb(1),o.Lc("margin-left","horizontal"===t.tabPositionMode&&t.tabPaneAnimated&&100*(0-(t.nzSelectedIndex||0)),"%"),o.Pb("ant-tabs-top-content","top"===t.nzTabPosition)("ant-tabs-bottom-content","bottom"===t.nzTabPosition)("ant-tabs-left-content","left"===t.nzTabPosition)("ant-tabs-right-content","right"===t.nzTabPosition)("ant-tabs-content-animated",t.tabPaneAnimated)("ant-tabs-card-content","card"===t.nzType)("ant-tabs-content-no-animated",!t.tabPaneAnimated),o.Mb(2),o.vc("ngForOf",t.listOfNzTabComponent)}}let pi=(()=>{class t{constructor(){this.content=null,this.active=!1,this.forceRender=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Rb({type:t,selectors:[["","nz-tab-body",""]],hostVars:4,hostBindings:function(t,e){2&t&&o.Pb("ant-tabs-tabpane-active",e.active)("ant-tabs-tabpane-inactive",!e.active)},inputs:{content:"content",active:"active",forceRender:"forceRender"},exportAs:["nzTabBody"],attrs:Ge,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&o.Mc(0,Ue,2,1,"ng-container",0),2&t&&o.vc("ngIf",e.active||e.forceRender)},directives:[n.t,n.A],encapsulation:2,changeDetection:0}),t})(),ui=(()=>{class t{constructor(t,e){this.elementRef=t,this.disabled=!1,e.addClass(t.nativeElement,"ant-tabs-tab")}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}getOffsetTop(){return this.elementRef.nativeElement.offsetTop}getOffsetHeight(){return this.elementRef.nativeElement.offsetHeight}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.o),o.Xb(o.M))},t.\u0275dir=o.Sb({type:t,selectors:[["","nz-tab-label",""]],hostVars:2,hostBindings:function(t,e){2&t&&o.Pb("ant-tabs-tab-disabled",e.disabled)},inputs:{disabled:"disabled"},exportAs:["nzTabLabel"]}),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"disabled",void 0),t})(),gi=(()=>{class t{constructor(t,e){this.routerLink=t,this.routerLinkWithHref=e}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(s.f,10),o.Xb(s.g,10))},t.\u0275dir=o.Sb({type:t,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]}),t})(),bi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Sb({type:t,selectors:[["","nz-tab",""]],exportAs:["nzTab"]}),t})(),mi=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.position=null,this.origin=null,this.isActive=!1,this.stateChanges=new g.a,this.nzForceRender=!1,this.nzDisabled=!1,this.nzClick=new o.q,this.nzSelect=new o.q,this.nzDeselect=new o.q,this.renderer.addClass(t.nativeElement,"ant-tabs-tabpane")}ngOnChanges(t){(t.nzTitle||t.nzForceRender||t.nzDisabled)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.o),o.Xb(o.M))},t.\u0275cmp=o.Rb({type:t,selectors:[["nz-tab"]],contentQueries:function(t,e,i){var n;1&t&&(o.Qb(i,bi,!0,o.T),o.Qb(i,gi,!0)),2&t&&(o.Bc(n=o.mc())&&(e.template=n.first),o.Bc(n=o.mc())&&(e.linkDirective=n.first))},viewQuery:function(t,e){var i;1&t&&(o.Kc(We,!0),o.Kc(Ke,!0)),2&t&&(o.Bc(i=o.mc())&&(e.content=i.first),o.Bc(i=o.mc())&&(e.title=i.first))},inputs:{nzForceRender:"nzForceRender",nzDisabled:"nzDisabled",nzTitle:"nzTitle",nzRouterIdentifier:"nzRouterIdentifier"},outputs:{nzClick:"nzClick",nzSelect:"nzSelect",nzDeselect:"nzDeselect"},exportAs:["nzTab"],features:[o.Kb],ngContentSelectors:ti,decls:4,vars:0,consts:[["titleTpl",""],["bodyTpl",""]],template:function(t,e){1&t&&(o.uc(Je),o.Mc(0,Ze,1,0,"ng-template",null,0,o.Nc),o.Mc(2,Qe,1,0,"ng-template",null,1,o.Nc))},encapsulation:2,changeDetection:0}),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzForceRender",void 0),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzDisabled",void 0),t})(),fi=(()=>{class t{constructor(t,e,i){this.renderer=t,this.elementRef=e,this.ngZone=i,this.nzAnimated=!1,this.nzPositionMode="horizontal",t.addClass(e.nativeElement,"ant-tabs-ink-bar")}alignToElement(t){"undefined"!=typeof requestAnimationFrame?this.ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.setStyles(t))}):this.setStyles(t)}setStyles(t){"horizontal"===this.nzPositionMode?(this.renderer.removeStyle(this.elementRef.nativeElement,"height"),this.renderer.setStyle(this.elementRef.nativeElement,"transform",`translate3d(${this.getLeftPosition(t)}, 0px, 0px)`),this.renderer.setStyle(this.elementRef.nativeElement,"width",this.getElementWidth(t))):(this.renderer.removeStyle(this.elementRef.nativeElement,"width"),this.renderer.setStyle(this.elementRef.nativeElement,"transform",`translate3d(0px, ${this.getTopPosition(t)}, 0px)`),this.renderer.setStyle(this.elementRef.nativeElement,"height",this.getElementHeight(t)))}getLeftPosition(t){return t?t.offsetLeft+"px":"0"}getElementWidth(t){return t?t.offsetWidth+"px":"0"}getTopPosition(t){return t?t.offsetTop+"px":"0"}getElementHeight(t){return t?t.offsetHeight+"px":"0"}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.M),o.Xb(o.o),o.Xb(o.G))},t.\u0275dir=o.Sb({type:t,selectors:[["","nz-tabs-ink-bar",""]],hostVars:4,hostBindings:function(t,e){2&t&&o.Pb("ant-tabs-ink-bar-animated",e.nzAnimated)("ant-tabs-ink-bar-no-animated",!e.nzAnimated)},inputs:{nzAnimated:"nzAnimated",nzPositionMode:"nzPositionMode"},exportAs:["nzTabsInkBar"]}),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzAnimated",void 0),t})(),vi=(()=>{class t{constructor(t,e,i,n,s,r,c){this.elementRef=t,this.ngZone=e,this.renderer=i,this.cdr=n,this.platform=s,this.resizeService=r,this.dir=c,this._tabPositionMode="horizontal",this._scrollDistance=0,this._selectedIndex=0,this.destroy$=new g.a,this.showPaginationControls=!1,this.disableScrollAfter=!0,this.disableScrollBefore=!0,this.selectedIndexChanged=!1,this.realignInkBar=null,this.nzOnNextClick=new o.q,this.nzOnPrevClick=new o.q,this.nzAnimated=!0,this.nzHideBar=!1,this.nzShowPagination=!0,this.nzType="line",this.nzTabPosition="top"}set nzPositionMode(t){this._tabPositionMode=t,this.alignInkBarToSelectedTab(),this.nzShowPagination&&Promise.resolve().then(()=>{this.updatePagination()})}get nzPositionMode(){return this._tabPositionMode}set selectedIndex(t){this.selectedIndexChanged=this._selectedIndex!==t,this._selectedIndex=t}get selectedIndex(){return this._selectedIndex}onContentChanges(){const t=this.elementRef.nativeElement.textContent;t!==this.currentTextContent&&(this.currentTextContent=t,this.ngZone.run(()=>{this.nzShowPagination&&this.updatePagination(),this.alignInkBarToSelectedTab(),this.cdr.markForCheck()}))}scrollHeader(t){"before"!==t||this.disableScrollBefore?"after"!==t||this.disableScrollAfter||this.nzOnNextClick.emit():this.nzOnPrevClick.emit(),this.scrollDistance+=("before"===t?-1:1)*this.viewWidthHeightPix/3}ngAfterContentChecked(){this.tabLabelCount!==this.listOfNzTabLabelDirective.length&&(this.nzShowPagination&&this.updatePagination(),this.tabLabelCount=this.listOfNzTabLabelDirective.length,this.cdr.markForCheck()),this.selectedIndexChanged&&(this.scrollToLabel(this._selectedIndex),this.nzShowPagination&&this.checkScrollingControls(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck()),this.scrollDistanceChanged&&(this.nzShowPagination&&this.updateTabScrollPosition(),this.scrollDistanceChanged=!1,this.cdr.markForCheck())}ngAfterContentInit(){this.realignInkBar=this.ngZone.runOutsideAngular(()=>{const t=this.dir?this.dir.change:Object(He.a)(null),e="undefined"!=typeof window?this.resizeService.subscribe().pipe(Object(x.a)(this.destroy$)):Object(He.a)(null);return Object(C.a)(t,e).pipe(Object(P.a)(null)).subscribe(()=>{this.nzShowPagination&&this.updatePagination(),this.alignInkBarToSelectedTab()})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.realignInkBar&&this.realignInkBar.unsubscribe()}updateTabScrollPosition(){const t=this.scrollDistance;if("horizontal"===this.nzPositionMode){const e="ltr"===this.getLayoutDirection()?-t:t;this.renderer.setStyle(this.navListElement.nativeElement,"transform",`translate3d(${e}px, 0, 0)`)}else this.renderer.setStyle(this.navListElement.nativeElement,"transform",`translate3d(0,${-t}px, 0)`)}updatePagination(){this.checkPaginationEnabled(),this.checkScrollingControls(),this.updateTabScrollPosition()}checkPaginationEnabled(){const t=this.tabListScrollWidthHeightPix>this.tabListScrollOffSetWidthHeight;t||(this.scrollDistance=0),t!==this.showPaginationControls&&this.cdr.markForCheck(),this.showPaginationControls=t}scrollToLabel(t){const e=this.listOfNzTabLabelDirective?this.listOfNzTabLabelDirective.toArray()[t]:null;if(e){let t,i;"horizontal"===this.nzPositionMode?"ltr"===this.getLayoutDirection()?(t=e.getOffsetLeft(),i=t+e.getOffsetWidth()):(i=this.navListElement.nativeElement.offsetWidth-e.getOffsetLeft(),t=i-e.getOffsetWidth()):(t=e.getOffsetTop(),i=t+e.getOffsetHeight());const n=this.scrollDistance,s=this.scrollDistance+this.viewWidthHeightPix;t<n?this.scrollDistance-=n-t+64:i>s&&(this.scrollDistance+=i-s+64)}}checkScrollingControls(){this.disableScrollBefore=0===this.scrollDistance,this.disableScrollAfter=this.scrollDistance===this.getMaxScrollDistance(),this.cdr.markForCheck()}getMaxScrollDistance(){return this.tabListScrollWidthHeightPix-this.viewWidthHeightPix||0}set scrollDistance(t){this._scrollDistance=Math.max(0,Math.min(this.getMaxScrollDistance(),t)),this.scrollDistanceChanged=!0,this.checkScrollingControls()}get scrollDistance(){return this._scrollDistance}get viewWidthHeightPix(){let t=0;return this.showPaginationControls&&(t=this.navContainerScrollPaddingPix),"horizontal"===this.nzPositionMode?this.navContainerElement.nativeElement.offsetWidth-t:this.navContainerElement.nativeElement.offsetHeight-t}get navContainerScrollPaddingPix(){if(this.platform.isBrowser){const t=this.navContainerElement.nativeElement,e=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;return"horizontal"===this.nzPositionMode?Object(se.f)(e.paddingLeft)+Object(se.f)(e.paddingRight):Object(se.f)(e.paddingTop)+Object(se.f)(e.paddingBottom)}return 0}get tabListScrollWidthHeightPix(){return"horizontal"===this.nzPositionMode?this.navListElement.nativeElement.scrollWidth:this.navListElement.nativeElement.scrollHeight}get tabListScrollOffSetWidthHeight(){return"horizontal"===this.nzPositionMode?this.scrollListElement.nativeElement.offsetWidth:this.elementRef.nativeElement.offsetHeight}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}alignInkBarToSelectedTab(){if("line"===this.nzType){const t=this.listOfNzTabLabelDirective&&this.listOfNzTabLabelDirective.length?this.listOfNzTabLabelDirective.toArray()[this.selectedIndex].elementRef.nativeElement:null;this.nzTabsInkBarDirective&&this.nzTabsInkBarDirective.alignToElement(t)}}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(o.o),o.Xb(o.G),o.Xb(o.M),o.Xb(o.h),o.Xb(p.a),o.Xb(Ye.b),o.Xb(w.b,8))},t.\u0275cmp=o.Rb({type:t,selectors:[["nz-tabs-nav"]],contentQueries:function(t,e,i){var n;1&t&&o.Qb(i,ui,!1),2&t&&o.Bc(n=o.mc())&&(e.listOfNzTabLabelDirective=n)},viewQuery:function(t,e){var i;1&t&&(o.Kc(fi,!0),o.Kc(ei,!0),o.Kc(ii,!0),o.Kc(ni,!0)),2&t&&(o.Bc(i=o.mc())&&(e.nzTabsInkBarDirective=i.first),o.Bc(i=o.mc())&&(e.navContainerElement=i.first),o.Bc(i=o.mc())&&(e.navListElement=i.first),o.Bc(i=o.mc())&&(e.scrollListElement=i.first))},hostVars:18,hostBindings:function(t,e){2&t&&o.Pb("ant-tabs-bar",!0)("ant-tabs-card-bar","card"===e.nzType)("ant-tabs-top-bar","top"===e.nzTabPosition)("ant-tabs-bottom-bar","bottom"===e.nzTabPosition)("ant-tabs-left-bar","left"===e.nzTabPosition)("ant-tabs-right-bar","right"===e.nzTabPosition)("ant-tabs-small-bar","small"===e.nzSize)("ant-tabs-default-bar","default"===e.nzSize)("ant-tabs-large-bar","large"===e.nzSize)},inputs:{nzAnimated:"nzAnimated",nzHideBar:"nzHideBar",nzShowPagination:"nzShowPagination",nzType:"nzType",nzTabPosition:"nzTabPosition",nzPositionMode:"nzPositionMode",selectedIndex:"selectedIndex",nzTabBarExtraContent:"nzTabBarExtraContent",nzSize:"nzSize"},outputs:{nzOnNextClick:"nzOnNextClick",nzOnPrevClick:"nzOnPrevClick"},exportAs:["nzTabsNav"],ngContentSelectors:ri,decls:17,vars:18,consts:[["style","float:right;","class","ant-tabs-extra-content",4,"ngIf"],[1,"ant-tabs-nav-container"],["navContainerElement",""],[1,"ant-tabs-tab-prev",3,"click"],[1,"ant-tabs-tab-prev-icon"],["nz-icon","",1,"ant-tabs-tab-prev-icon-target",3,"nzType"],[1,"ant-tabs-tab-next",3,"click"],[1,"ant-tabs-tab-next-icon"],["nz-icon","",1,"ant-tabs-tab-next-icon-target",3,"nzType"],[1,"ant-tabs-nav-wrap"],[1,"ant-tabs-nav-scroll"],["scrollListElement",""],[1,"ant-tabs-nav",3,"cdkObserveContent"],["navListElement",""],["nz-tabs-ink-bar","",2,"display","block",3,"hidden","nzAnimated","nzPositionMode"],[1,"ant-tabs-extra-content",2,"float","right"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(o.uc(),o.Mc(0,oi,2,1,"div",0),o.dc(1,"div",1,2),o.dc(3,"span",3),o.lc("click",(function(){return e.scrollHeader("before")})),o.dc(4,"span",4),o.Yb(5,"i",5),o.cc(),o.cc(),o.dc(6,"span",6),o.lc("click",(function(){return e.scrollHeader("after")})),o.dc(7,"span",7),o.Yb(8,"i",8),o.cc(),o.cc(),o.dc(9,"div",9),o.dc(10,"div",10,11),o.dc(12,"div",12,13),o.lc("cdkObserveContent",(function(){return e.onContentChanges()})),o.dc(14,"div"),o.tc(15),o.cc(),o.Yb(16,"div",14),o.cc(),o.cc(),o.cc(),o.cc()),2&t&&(o.vc("ngIf",e.nzTabBarExtraContent),o.Mb(1),o.Pb("ant-tabs-nav-container-scrolling",e.showPaginationControls),o.Mb(2),o.Pb("ant-tabs-tab-btn-disabled",e.disableScrollBefore)("ant-tabs-tab-arrow-show",e.showPaginationControls),o.Mb(2),o.vc("nzType","horizontal"===e.nzPositionMode?"left":"up"),o.Mb(1),o.Pb("ant-tabs-tab-btn-disabled",e.disableScrollAfter)("ant-tabs-tab-arrow-show",e.showPaginationControls),o.Mb(2),o.vc("nzType","horizontal"===e.nzPositionMode?"right":"down"),o.Mb(4),o.Pb("ant-tabs-nav-animated",e.nzAnimated),o.Mb(4),o.vc("hidden",e.nzHideBar)("nzAnimated",e.nzAnimated)("nzPositionMode",e.nzPositionMode))},directives:[n.t,Qt.b,Fe.a,fi,n.A],encapsulation:2,changeDetection:0}),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzAnimated",void 0),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzHideBar",void 0),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzShowPagination",void 0),t})();class _i{}let zi=(()=>{class t{constructor(t,e,i,n,s){this.nzConfigService=t,this.renderer=e,this.elementRef=i,this.cdr=n,this.router=s,this.indexToSelect=0,this.el=this.elementRef.nativeElement,this._selectedIndex=null,this.tabsSubscription=b.a.EMPTY,this.tabLabelSubscription=b.a.EMPTY,this.destroy$=new g.a,this.tabPositionMode="horizontal",this.nzShowPagination=!0,this.nzAnimated=!0,this.nzHideAll=!1,this.nzTabPosition="top",this.nzSize="default",this.nzTabBarGutter=void 0,this.nzTabBarStyle=null,this.nzType="line",this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzCanDeactivate=null,this.nzOnNextClick=new o.q,this.nzOnPrevClick=new o.q,this.nzSelectChange=new o.q(!0),this.nzSelectedIndexChange=new o.q}set nzSelectedIndex(t){this.indexToSelect=t?Object(se.i)(t,null):null}get nzSelectedIndex(){return this._selectedIndex}get inkBarAnimated(){return!0===this.nzAnimated||!0===this.nzAnimated.inkBar}get tabPaneAnimated(){return!0===this.nzAnimated||!0===this.nzAnimated.tabPane}get isAnimationDisabled(){return!1===this.nzAnimated||!1===this.nzAnimated.tabPane}setPosition(t){this.tabContent&&("bottom"===t?this.renderer.insertBefore(this.el,this.tabContent.nativeElement,this.nzTabsNavComponent.elementRef.nativeElement):this.renderer.insertBefore(this.el,this.nzTabsNavComponent.elementRef.nativeElement,this.tabContent.nativeElement))}clickLabel(t,e){e||(null!==this.nzSelectedIndex&&this.nzSelectedIndex!==t&&"function"==typeof this.nzCanDeactivate?Object(se.j)(this.nzCanDeactivate(this.nzSelectedIndex,t)).pipe(Object($e.a)(),Object(x.a)(this.destroy$)).subscribe(e=>e&&this.emitClickEvent(t)):this.emitClickEvent(t))}emitClickEvent(t){const e=this.listOfNzTabComponent.toArray();this.nzSelectedIndex=t,e[t].nzClick.emit(),this.cdr.markForCheck()}createChangeEvent(t){const e=new _i;return e.index=t,this.listOfNzTabComponent&&this.listOfNzTabComponent.length&&(e.tab=this.listOfNzTabComponent.toArray()[t],this.listOfNzTabComponent.forEach((e,i)=>{i!==t&&e.nzDeselect.emit()}),e.tab.nzSelect.emit()),e}clampTabIndex(t){return Math.min(this.listOfNzTabComponent.length-1,Math.max(t||0,0))}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=Object(C.a)(...this.listOfNzTabComponent.map(t=>t.stateChanges)).subscribe(()=>this.cdr.markForCheck())}ngOnChanges(t){const{nzTabPosition:e,nzType:i}=t;e&&(this.tabPositionMode="top"===this.nzTabPosition||"bottom"===this.nzTabPosition?"horizontal":"vertical",this.setPosition(this.nzTabPosition)),i&&"card"===this.nzType&&(this.nzAnimated=!1)}ngAfterContentChecked(){if(this.listOfNzTabComponent&&this.listOfNzTabComponent.length){const t=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this._selectedIndex!==t){const e=null==this._selectedIndex;e||this.nzSelectChange.emit(this.createChangeEvent(t)),Promise.resolve().then(()=>{this.listOfNzTabComponent.forEach((e,i)=>e.isActive=i===t),e||this.nzSelectedIndexChange.emit(t)})}this.listOfNzTabComponent.forEach((e,i)=>{e.position=i-t,null==this._selectedIndex||0!==e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this.cdr.markForCheck())}}ngAfterContentInit(){if(this.subscribeToTabLabels(),this.setPosition(this.nzTabPosition),this.nzLinkRouter){if(!this.router)throw new Error(`${ie.a} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe(Object(x.a)(this.destroy$),Object(Ve.a)(t=>t instanceof s.c),Object(P.a)(!0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}this.tabsSubscription=this.listOfNzTabComponent.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this._selectedIndex){const t=this.listOfNzTabComponent.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this.indexToSelect=this._selectedIndex=e;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngOnDestroy(){this.tabsSubscription.unsubscribe(),this.tabLabelSubscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}updateRouterActive(){if(this.router.navigated){const t=this.findShouldActiveTabIndex();t!==this._selectedIndex&&(this.nzSelectedIndex=t,this.nzSelectedIndexChange.emit(t)),this.nzHideAll=-1===t}}findShouldActiveTabIndex(){const t=this.listOfNzTabComponent.toArray(),e=this.isLinkActive(this.router);return t.findIndex(t=>{const i=t.linkDirective;return!!i&&(e(i.routerLink)||e(i.routerLinkWithHref))})}isLinkActive(t){return e=>!!e&&t.isActive(e.urlTree,this.nzLinkExact)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(Xe.a),o.Xb(o.M),o.Xb(o.o),o.Xb(o.h),o.Xb(s.e,8))},t.\u0275cmp=o.Rb({type:t,selectors:[["nz-tabset"]],contentQueries:function(t,e,i){var n;1&t&&o.Qb(i,mi,!1),2&t&&o.Bc(n=o.mc())&&(e.listOfNzTabComponent=n)},viewQuery:function(t,e){var i;1&t&&(o.Sc(vi,!0),o.Sc(ci,!0)),2&t&&(o.Bc(i=o.mc())&&(e.nzTabsNavComponent=i.first),o.Bc(i=o.mc())&&(e.tabContent=i.first))},hostVars:22,hostBindings:function(t,e){2&t&&o.Pb("ant-tabs",!0)("ant-tabs-no-animation",e.isAnimationDisabled)("ant-tabs-line","line"===e.nzType)("ant-tabs-card","card"===e.nzType)("ant-tabs-top","top"===e.nzTabPosition)("ant-tabs-bottom","bottom"===e.nzTabPosition)("ant-tabs-left","left"===e.nzTabPosition)("ant-tabs-right","right"===e.nzTabPosition)("ant-tabs-vertical","left"===e.nzTabPosition||"right"===e.nzTabPosition)("ant-tabs-large","large"===e.nzSize)("ant-tabs-small","small"===e.nzSize)},inputs:{nzShowPagination:"nzShowPagination",nzAnimated:"nzAnimated",nzHideAll:"nzHideAll",nzTabPosition:"nzTabPosition",nzSize:"nzSize",nzTabBarGutter:"nzTabBarGutter",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact",nzCanDeactivate:"nzCanDeactivate",nzSelectedIndex:"nzSelectedIndex",nzTabBarExtraContent:"nzTabBarExtraContent"},outputs:{nzOnNextClick:"nzOnNextClick",nzOnPrevClick:"nzOnPrevClick",nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange"},exportAs:["nzTabset"],features:[o.Kb],decls:1,vars:1,consts:[[4,"ngIf"],["role","tablist","tabindex","0",3,"nzSize","nzTabPosition","nzType","nzShowPagination","nzPositionMode","nzAnimated","ngStyle","nzHideBar","nzTabBarExtraContent","selectedIndex","nzOnNextClick","nzOnPrevClick"],["nz-tab-label","","role","tab",3,"margin-right","ant-tabs-tab-active","disabled","click",4,"ngFor","ngForOf"],[1,"ant-tabs-content"],["tabContent",""],["nz-tab-body","","class","ant-tabs-tabpane",3,"active","forceRender","content",4,"ngFor","ngForOf"],["nz-tab-label","","role","tab",3,"disabled","click"],[4,"nzStringTemplateOutlet"],["nz-tab-body","",1,"ant-tabs-tabpane",3,"active","forceRender","content"]],template:function(t,e){1&t&&o.Mc(0,hi,6,28,"ng-container",0),2&t&&o.vc("ngIf",e.listOfNzTabComponent)},directives:[n.t,vi,n.w,n.s,ui,re.b,pi],encapsulation:2,changeDetection:0}),Object(Ne.a)([Object(Xe.b)("tabs"),Object(Ne.b)("design:type",Boolean)],t.prototype,"nzShowPagination",void 0),Object(Ne.a)([Object(Xe.b)("tabs"),Object(Ne.b)("design:type",Object)],t.prototype,"nzAnimated",void 0),Object(Ne.a)([Object(Xe.b)("tabs"),Object(Ne.b)("design:type",String)],t.prototype,"nzSize",void 0),Object(Ne.a)([Object(Xe.b)("tabs"),Object(Ne.b)("design:type",Number)],t.prototype,"nzTabBarGutter",void 0),Object(Ne.a)([Object(Xe.b)("tabs"),Object(Ne.b)("design:type",String)],t.prototype,"nzType",void 0),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzLinkRouter",void 0),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzLinkExact",void 0),t})(),Ci=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[n.c,Fe.c,Qt.c,re.a,p.b]]}),t})();const xi=["*"];function Oi(t,e){if(1&t&&(o.bc(0),o.Yb(1,"i",6),o.ac()),2&t){const t=e.$implicit,i=o.oc(2);o.Mb(1),o.vc("nzType",t||"right")("nzRotate",i.nzActive?90:0)}}function yi(t,e){if(1&t&&(o.bc(0),o.Mc(1,Oi,2,2,"ng-container",2),o.ac()),2&t){const t=o.oc();o.Mb(1),o.vc("nzStringTemplateOutlet",t.nzExpandedIcon)}}function Pi(t,e){if(1&t&&(o.bc(0),o.Oc(1),o.ac()),2&t){const t=o.oc();o.Mb(1),o.Pc(t.nzHeader)}}function Si(t,e){if(1&t&&(o.bc(0),o.Oc(1),o.ac()),2&t){const t=o.oc(2);o.Mb(1),o.Pc(t.nzExtra)}}function wi(t,e){if(1&t&&(o.dc(0,"div",7),o.Mc(1,Si,2,1,"ng-container",2),o.cc()),2&t){const t=o.oc();o.Mb(1),o.vc("nzStringTemplateOutlet",t.nzExtra)}}let Ti=(()=>{class t{constructor(t,e){this.nzConfigService=t,this.cdr=e,this.nzAccordion=!1,this.nzBordered=!0,this.nzExpandIconPosition="left",this.listOfNzCollapsePanelComponent=[],this.destroy$=new g.a,this.nzConfigService.getConfigChangeEventForComponent("collapse").pipe(Object(x.a)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}addPanel(t){this.listOfNzCollapsePanelComponent.push(t)}removePanel(t){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(t),1)}click(t){this.nzAccordion&&!t.nzActive&&this.listOfNzCollapsePanelComponent.filter(e=>e!==t).forEach(t=>{t.nzActive&&(t.nzActive=!1,t.nzActiveChange.emit(t.nzActive),t.markForCheck())}),t.nzActive=!t.nzActive,t.nzActiveChange.emit(t.nzActive)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(Xe.a),o.Xb(o.h))},t.\u0275cmp=o.Rb({type:t,selectors:[["nz-collapse"]],hostVars:8,hostBindings:function(t,e){2&t&&o.Pb("ant-collapse",!0)("ant-collapse-icon-position-left","left"===e.nzExpandIconPosition)("ant-collapse-icon-position-right","right"===e.nzExpandIconPosition)("ant-collapse-borderless",!e.nzBordered)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],ngContentSelectors:xi,decls:1,vars:0,template:function(t,e){1&t&&(o.uc(),o.tc(0))},encapsulation:2,changeDetection:0}),Object(Ne.a)([Object(Xe.b)("collapse"),Object(se.a)(),Object(Ne.b)("design:type",Boolean)],t.prototype,"nzAccordion",void 0),Object(Ne.a)([Object(Xe.b)("collapse"),Object(se.a)(),Object(Ne.b)("design:type",Boolean)],t.prototype,"nzBordered",void 0),t})(),Di=(()=>{class t{constructor(t,e,i){this.nzConfigService=t,this.cdr=e,this.nzCollapseComponent=i,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new o.q,this.destroy$=new g.a,this.nzConfigService.getConfigChangeEventForComponent("collapsePanel").pipe(Object(x.a)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}clickHeader(){this.nzDisabled||this.nzCollapseComponent.click(this)}markForCheck(){this.cdr.markForCheck()}ngOnInit(){this.nzCollapseComponent.addPanel(this)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.nzCollapseComponent.removePanel(this)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(Xe.a),o.Xb(o.h),o.Xb(Ti,1))},t.\u0275cmp=o.Rb({type:t,selectors:[["nz-collapse-panel"]],hostVars:8,hostBindings:function(t,e){2&t&&o.Pb("ant-collapse-item",!0)("ant-collapse-no-arrow",!e.nzShowArrow)("ant-collapse-item-active",e.nzActive)("ant-collapse-item-disabled",e.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],ngContentSelectors:xi,decls:7,vars:7,consts:[["role","tab",1,"ant-collapse-header",3,"click"],[4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-collapse-extra",4,"ngIf"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"],[1,"ant-collapse-extra"]],template:function(t,e){1&t&&(o.uc(),o.dc(0,"div",0),o.lc("click",(function(){return e.clickHeader()})),o.Mc(1,yi,2,1,"ng-container",1),o.Mc(2,Pi,2,1,"ng-container",2),o.Mc(3,wi,2,1,"div",3),o.cc(),o.dc(4,"div",4),o.dc(5,"div",5),o.tc(6),o.cc(),o.cc()),2&t&&(o.Nb("aria-expanded",e.nzActive),o.Mb(1),o.vc("ngIf",e.nzShowArrow),o.Mb(1),o.vc("nzStringTemplateOutlet",e.nzHeader),o.Mb(1),o.vc("ngIf",e.nzExtra),o.Mb(1),o.Pb("ant-collapse-content-active",e.nzActive),o.vc("@collapseMotion",e.nzActive?"expanded":"hidden"))},directives:[n.t,re.b,Qt.b],encapsulation:2,data:{animation:[Jt.a]},changeDetection:0}),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzActive",void 0),Object(Ne.a)([Object(se.a)(),Object(Ne.b)("design:type",Object)],t.prototype,"nzDisabled",void 0),Object(Ne.a)([Object(Xe.b)("collapsePanel"),Object(se.a)(),Object(Ne.b)("design:type",Boolean)],t.prototype,"nzShowArrow",void 0),t})(),ki=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[n.c,Qt.c,re.a]]}),t})();const Mi=["urlredirect"],Ri=["urlrewrite"],Ei=["script"];function Ii(t,e){if(1&t&&(o.dc(0,"div"),o.Oc(1),o.cc(),o.dc(2,"div"),o.Oc(3),o.cc(),o.dc(4,"div"),o.Oc(5),o.cc()),2&t){const t=o.oc();o.Mb(1),o.Qc(" Redirect to ",t.action.Parameters.RedirectTo," "),o.Mb(2),o.Qc(" Permanent: ",t.action.Parameters.Permanent," "),o.Mb(2),o.Qc(" PreserveMethod: ",t.action.Parameters.PreserveMethod," ")}}function Ai(t,e){if(1&t&&(o.dc(0,"div"),o.Oc(1),o.cc()),2&t){const t=o.oc();o.Mb(1),o.Qc(" Rewrite to ",t.action.Parameters.RewriteTo," ")}}function Li(t,e){if(1&t&&(o.dc(0,"div"),o.Oc(1),o.cc()),2&t){const t=o.oc();o.Mb(1),o.Qc(" ",t.action.Parameters.Language," ")}}let ji=(()=>{class t{ngOnInit(){this.template=this.determineTemplate()}determineTemplate(){switch(this.action.ActionType){case"UrlRedirect":return this.UrlRedirect;case"UrlRewrite":return this.UrlRewrite;case"Script":return this.Script}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Rb({type:t,selectors:[["action-list-details"]],viewQuery:function(t,e){var i;1&t&&(o.Kc(Mi,!0),o.Kc(Ri,!0),o.Kc(Ei,!0)),2&t&&(o.Bc(i=o.mc())&&(e.UrlRedirect=i.first),o.Bc(i=o.mc())&&(e.UrlRewrite=i.first),o.Bc(i=o.mc())&&(e.Script=i.first))},inputs:{action:"action"},decls:8,vars:1,consts:[[2,"font-size","x-small"],[3,"ngTemplateOutlet"],["urlredirect",""],["urlrewrite",""],["script",""]],template:function(t,e){1&t&&(o.dc(0,"div",0),o.Zb(1,1),o.cc(),o.Mc(2,Ii,6,3,"ng-template",null,2,o.Nc),o.Mc(4,Ai,2,1,"ng-template",null,3,o.Nc),o.Mc(6,Li,2,1,"ng-template",null,4,o.Nc)),2&t&&(o.Mb(1),o.vc("ngTemplateOutlet",e.template))},directives:[n.A],styles:[""]}),t})();function Bi(t,e){1&t&&(o.dc(0,"div",8),o.dc(1,"div",9),o.Oc(2,"Currently there is nothing..."),o.cc(),o.dc(3,"p"),o.Oc(4,"Use the ContextMenu to create your first action!"),o.cc(),o.cc())}function Ni(t,e){if(1&t&&o.Yb(0,"i",20),2&t){const t=o.oc().$implicit;o.vc("nzType",t.icon)}}function Hi(t,e){if(1&t&&o.Yb(0,"fa-icon",21),2&t){const t=o.oc().$implicit;o.vc("icon",t.icon)}}function Fi(t,e){if(1&t&&(o.dc(0,"div",17),o.Mc(1,Ni,1,1,"i",18),o.Mc(2,Hi,1,1,"fa-icon",19),o.cc()),2&t){const t=e.$implicit;o.Mb(1),o.vc("ngIf","ant"==t.type),o.Mb(1),o.vc("ngIf","fa"==t.type)}}function $i(t,e){if(1&t){const t=o.ec();o.dc(0,"div",10),o.lc("click",(function(i){o.Ec(t);const n=e.$implicit;return o.oc().clickAction(i,n)}))("dblclick",(function(){o.Ec(t);const i=e.$implicit;return o.oc().openModal(i.Item)}))("contextmenu",(function(i){o.Ec(t);const n=e.$implicit,s=o.oc(),r=o.Cc(11);return s.openItemContextMenu(i,r,n)})),o.dc(1,"div",11),o.dc(2,"div",12),o.Mc(3,Fi,3,2,"div",13),o.cc(),o.dc(4,"div",14),o.dc(5,"div",15),o.Oc(6),o.cc(),o.Yb(7,"action-list-details",16),o.cc(),o.cc(),o.cc()}if(2&t){const t=e.$implicit,i=o.oc();o.Pb("selected",t.Selected)("disabled",!t.Item.Enabled),o.Mb(3),o.vc("ngIf",i.prepareIcon(i.GetIcon(t.Item))),o.Mb(3),o.Pc(t.Item.ActionType),o.Mb(1),o.vc("action",t.Item)}}function Vi(t,e){if(1&t){const t=o.ec();o.dc(0,"ul",22),o.dc(1,"li",23),o.dc(2,"ul",24),o.dc(3,"li",25),o.lc("click",(function(){return o.Ec(t),o.oc().CreateAction("UrlRedirect","bottom")})),o.Yb(4,"i",26),o.Oc(5," UrlRedirect "),o.cc(),o.dc(6,"li",25),o.lc("click",(function(){return o.Ec(t),o.oc().CreateAction("UrlRewrite","bottom")})),o.Yb(7,"i",27),o.Oc(8," UrlRewrite "),o.cc(),o.dc(9,"li",25),o.lc("click",(function(){return o.Ec(t),o.oc().CreateAction("Script","bottom")})),o.Yb(10,"i",28),o.Oc(11," Script "),o.cc(),o.cc(),o.cc(),o.cc()}}const Xi=function(){return["fas","toggle-on"]};function Yi(t,e){if(1&t){const t=o.ec();o.dc(0,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().SetActionEnabled(e.Single,!0)})),o.Yb(1,"fa-icon",34),o.Oc(2," Enable "),o.cc()}2&t&&(o.Mb(1),o.vc("icon",o.wc(1,Xi)))}const Gi=function(){return["fas","toggle-off"]};function qi(t,e){if(1&t){const t=o.ec();o.dc(0,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().SetActionEnabled(e.Single,!1)})),o.Yb(1,"fa-icon",34),o.Oc(2," Disable "),o.cc()}2&t&&(o.Mb(1),o.vc("icon",o.wc(1,Gi)))}function Ui(t,e){if(1&t){const t=o.ec();o.dc(0,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().openModal(e.Single)})),o.Yb(1,"i",35),o.Oc(2," Edit "),o.cc()}}function Wi(t,e){if(1&t){const t=o.ec();o.dc(0,"li",36),o.dc(1,"ul",24),o.dc(2,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().CreateAction("UrlRedirect","before",e.Single)})),o.Yb(3,"i",26),o.Oc(4," UrlRedirect "),o.cc(),o.dc(5,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().CreateAction("UrlRewrite","before",e.Single)})),o.Yb(6,"i",27),o.Oc(7," UrlRewrite "),o.cc(),o.dc(8,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().CreateAction("Script","before",e.Single)})),o.Yb(9,"i",28),o.Oc(10," Script "),o.cc(),o.cc(),o.cc()}}function Ki(t,e){if(1&t){const t=o.ec();o.dc(0,"li",37),o.dc(1,"ul",24),o.dc(2,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().CreateAction("UrlRedirect","after",e.Single)})),o.Yb(3,"i",26),o.Oc(4," UrlRedirect "),o.cc(),o.dc(5,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().CreateAction("UrlRewrite","after",e.Single)})),o.Yb(6,"i",27),o.Oc(7," UrlRewrite "),o.cc(),o.dc(8,"li",25),o.lc("click",(function(){o.Ec(t);const e=o.oc().$implicit;return o.oc().CreateAction("Script","after",e.Single)})),o.Yb(9,"i",28),o.Oc(10," Script "),o.cc(),o.cc(),o.cc()}}function Zi(t,e){if(1&t){const t=o.ec();o.dc(0,"ul",22),o.Mc(1,Yi,3,2,"li",29),o.Mc(2,qi,3,2,"li",29),o.Mc(3,Ui,3,0,"li",29),o.Mc(4,Wi,11,0,"li",30),o.Mc(5,Ki,11,0,"li",31),o.Yb(6,"li",32),o.dc(7,"li",25),o.lc("click",(function(){o.Ec(t);const i=e.$implicit;return o.oc().RemoveActions(i.Selected)})),o.Yb(8,"i",33),o.Oc(9," Remove "),o.cc(),o.cc()}if(2&t){const t=e.$implicit;o.Mb(1),o.vc("ngIf",!1===(null==t.Single?null:t.Single.Enabled)),o.Mb(1),o.vc("ngIf",!0===(null==t.Single?null:t.Single.Enabled)),o.Mb(1),o.vc("ngIf",t.Single),o.Mb(1),o.vc("ngIf",t.Single),o.Mb(1),o.vc("ngIf",t.Single)}}const Qi=function(){return[]};let Ji=(()=>{class t{constructor(t,e,i,n,s,r,c){this.uiService=t,this.modal=e,this.overlay=i,this.viewContainerRef=n,this.cref=s,this.componentFactoryResolver=r,this.actionHelper=c,this._actions=[],this.actionsSubject$=new l.a(this._actions),this.actions$=this.actionsSubject$.asObservable(),this.actionsChanged=new o.q,this.registered=[],this.onTouched=()=>{}}set actions(t){this._actions=(t||[]).map(t=>new d(t)),this.actionsSubject$.next(this._actions)}get actions(){return this._actions.map(t=>t.Item)}openOuterContextMenu(t,e){var i;t.stopPropagation(),null===(i=this.ContextMenu)||void 0===i||i.Close(),this.ContextMenu=this.overlay.OpenContextMenu(t,e,this.viewContainerRef,null)}openItemContextMenu(t,e,i){var n;t.stopPropagation();const s=this._actions.filter(t=>t.Selected);0!=s.length&&s.includes(i)||(this._actions=this._actions.map(t=>(t.Selected=t==i,t))),null===(n=this.ContextMenu)||void 0===n||n.Close(),this.ContextMenu=this.overlay.OpenContextMenu(t,e,this.viewContainerRef,this.BuildContext())}BuildContext(){const t=new vt;return t.AllItems=this.actions,t.Selected=this._actions.filter(t=>t.Selected).map(t=>t.Item),t}clickAction(t,e){t.ctrlKey?e.Selected=!e.Selected:this._actions=this._actions.map(t=>(t.Selected=t==e,t))}contextAction(t,e){const i=this._actions.filter(t=>t.Selected);0!=i.length&&i.includes(e)||(this._actions=this._actions.map(t=>(t.Selected=t==e,t)))}GetIcon(t){return this.actionHelper.GetIcon(t)}prepareIcon(t){if(!t)return null;if(t.startsWith("fa#")){let e={type:"fa",icon:null};return t=t.substring(3),e.icon=t.includes("|")?t.split("|"):t,e}return{type:"ant",icon:t}}CreateAction(t,e,i){let n=new Ct;switch(t.toLowerCase()){case"urlredirect":n=new Bt;break;case"urlrewrite":n=new Ot;break;case"script":n=new Vt}if("top"==e)return this.actions=[n,...this.actions],void this.propagateChange(this.actions);if("bottom"==e)return this.actions=[...this.actions,n],void this.propagateChange(this.actions);const s=this.actions.findIndex(t=>t===i);let o=[...this.actions];"before"==e&&(0==s?this.actions=[n,...this.actions]:(o.splice(s,0,n),this.actions=[...o])),"after"==e&&(s==this.actions.length-1?this.actions=[...this.actions,n]:(o.splice(s+1,0,n),this.actions=[...o])),this.propagateChange(this.actions)}SetActionEnabled(t,e){this.actions=this.actions.map(i=>(i==t&&(i.Enabled=e),i)),this.propagateChange(this.actions)}RemoveActions(t){var e;t.forEach(t=>this.actions=this.actions.filter(e=>e!=t)),this.propagateChange(this.actions),null===(e=this.ContextMenu)||void 0===e||e.Close()}drop(t){if(t.previousContainer!==t.container){let e=[...this.actions];!function(t,e,i,n){const s=W(n,e.length);t.length&&e.splice(s,0,t[i])}(JSON.parse(JSON.stringify(t.previousContainer.data)),e,t.previousIndex,t.currentIndex),this.actions=[...e],this.propagateChange(this.actions)}else{let e=[...this.actions];U(e,t.previousIndex,t.currentIndex),this.actions=[...e],this.propagateChange(this.actions)}}openModal(t){var e;switch(null===(e=this.ContextMenu)||void 0===e||e.Close(),t.ActionType){case"UrlRedirect":this.actionHelper.GetModal("UrlRedirect").SetData(t).AddEventHandler("OK",e=>{t.Parameters=e.payload,this.propagateChange([...this.actions])}).Open();break;case"UrlRewrite":this.actionHelper.GetModal("UrlRewrite").SetData(t).AddEventHandler("OK",e=>{t.Parameters=e.payload,this.propagateChange([...this.actions])}).Open();break;case"Script":this.actionHelper.GetModal("Script").SetData(t).AddEventHandler("OK",e=>{t.Parameters=e.payload,this.propagateChange([...this.actions])}).Open()}}propagateChange(t){this.actionsChanged.next(t),this.registered.forEach(e=>{e(t)}),this.cref.detectChanges()}writeValue(t){this.actions=t}registerOnChange(t){-1===this.registered.indexOf(t)&&this.registered.push(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){throw new Error("Method not implemented.")}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(r.a),o.Xb(zt.b),o.Xb(zt.c),o.Xb(o.Y),o.Xb(o.h),o.Xb(o.k),o.Xb(Kt))},t.\u0275cmp=o.Rb({type:t,selectors:[["endpoint-actions-list"]],inputs:{actions:"actions"},outputs:{actionsChanged:"actionsChanged"},features:[o.Lb([{provide:yt.j,useExisting:t,multi:!0}])],decls:12,vars:7,consts:[["cdkDropList","",1,"outer",2,"flex-grow","1","height","100%",3,"contextmenu"],["nullList","cdkDropList"],["cdkDropList","",2,"padding","2px","margin-top","8px","max-height","calc(100% - 30px)","overflow-y","auto",3,"cdkDropListDropped"],["rulesList","cdkDropList"],["style","text-align: center; font-size: 1.3em; font-weight: bold; color: #525e7678; line-height: 1.4em; line-height: 2em; margin: 0px 10px;",4,"ngIf"],["class","action-item","cdkDrag","","cdkDragLockAxis","y",3,"selected","disabled","click","dblclick","contextmenu",4,"ngFor","ngForOf"],["outerContextMenu",""],["itemContextMenu",""],[2,"text-align","center","font-size","1.3em","font-weight","bold","color","#525e7678","line-height","1.4em","line-height","2em","margin","0px 10px"],[2,"font-size","1.5em"],["cdkDrag","","cdkDragLockAxis","y",1,"action-item",3,"click","dblclick","contextmenu"],[2,"display","flex"],["cdkDragHandle","",1,"dragHandle",2,"padding","10px 0px 0px 5px"],["class","title-icon",4,"ngIf"],[2,"padding","5px","min-width","50%","max-width","50%"],[2,"font-size","large","font-weight","bold","color","#292f3b"],[3,"action"],[1,"title-icon"],["style","font-size: xx-large; width: 40px; text-align: left;","nz-icon","","nzTheme","outline",3,"nzType",4,"ngIf"],["style","font-size: xx-large; width: 40px; text-align: left;","nz-icon","",3,"icon",4,"ngIf"],["nz-icon","","nzTheme","outline",2,"font-size","xx-large","width","40px","text-align","left",3,"nzType"],["nz-icon","",2,"font-size","xx-large","width","40px","text-align","left",3,"icon"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-submenu","","nzTitle","Add Action","nzIcon","menu-unfold"],[1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","rollback","nzTheme","outline"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","code","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-submenu","","nzTitle","Add Action Before","nzIcon","up",4,"ngIf"],["nz-submenu","","nzTitle","Add Action After","nzIcon","down",4,"ngIf"],["nz-menu-divider",""],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-icon","",3,"icon"],["nz-icon","","nzType","form","nzTheme","outline"],["nz-submenu","","nzTitle","Add Action Before","nzIcon","up"],["nz-submenu","","nzTitle","Add Action After","nzIcon","down"]],template:function(t,e){if(1&t){const t=o.ec();o.dc(0,"div",0,1),o.lc("contextmenu",(function(i){o.Ec(t);const n=o.Cc(9);return e.openOuterContextMenu(i,n)})),o.dc(2,"div",2,3),o.lc("cdkDropListDropped",(function(t){return e.drop(t)})),o.Mc(4,Bi,5,0,"div",4),o.pc(5,"async"),o.Mc(6,$i,8,7,"div",5),o.pc(7,"async"),o.cc(),o.cc(),o.Mc(8,Vi,12,0,"ng-template",null,6,o.Nc),o.Mc(10,Zi,10,5,"ng-template",null,7,o.Nc)}2&t&&(o.Mb(4),o.vc("ngIf",0===(o.qc(5,2,e.actions$)||o.wc(6,Qi)).length),o.Mb(2),o.vc("ngForOf",o.qc(7,4,e.actions$)))},directives:[mt,n.t,n.s,pt,ct,ji,Qt.b,Tt.a,Zt.b,be.c,be.g,be.e,be.d],pipes:[n.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.action-item[_ngcontent-%COMP%]{margin-bottom:10px!important;border-radius:0!important;box-shadow:0 0 3px 1px #cecece;background-color:#fff}.action-item.disabled[_ngcontent-%COMP%]{opacity:.6;box-shadow:none;background-color:#e2e2e2}.action-item[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{border-right:1px solid #fff}.action-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.action-item.selected[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{background-color:#292f3b;color:#fff}.action-item[_ngcontent-%COMP%]:hover{background-color:#b2b7c2}.new-rule.ui.button[_ngcontent-%COMP%]{margin:0}.options[_ngcontent-%COMP%]{background-color:grey;height:50px}.list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:inherit!important}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:inherit}.dragHandle[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.list-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#e0e1e2}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{cursor:inherit}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:inherit}.list-item.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%], .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{border-radius:0!important;background-color:#2f2f2f;color:#f5f5f5}.outer.cdk-drop-list-dragging[_ngcontent-%COMP%] > .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}"]}),t})();function tn(t,e){1&t&&(o.Yb(0,"i",32),o.Oc(1,"Basic "))}function en(t,e){1&t&&(o.dc(0,"span"),o.Oc(1,"Enabled"),o.cc())}function nn(t,e){1&t&&(o.dc(0,"span"),o.Oc(1,"Disabled"),o.cc())}function sn(t,e){1&t&&(o.Yb(0,"i",33),o.Oc(1,"Actions"))}function on(t,e){1&t&&(o.Yb(0,"i",36),o.Oc(1,"Debug"))}function rn(t,e){if(1&t&&(o.dc(0,"nz-tab",3),o.Mc(1,on,2,0,"ng-template",null,34,o.Nc),o.dc(3,"div",35),o.dc(4,"pre"),o.Oc(5),o.pc(6,"json"),o.cc(),o.cc(),o.cc()),2&t){const t=o.Cc(2),e=o.oc(2);o.vc("nzTitle",t),o.Mb(5),o.Pc(o.qc(6,2,e.form.value))}}const cn=function(){return{inkBar:!0,tabPane:!1}},an=function(){return[","]};function ln(t,e){if(1&t&&(o.bc(0),o.dc(1,"form",1),o.dc(2,"nz-tabset",2),o.dc(3,"nz-tab",3),o.Mc(4,tn,2,0,"ng-template",null,4,o.Nc),o.dc(6,"div",5),o.dc(7,"div",6),o.dc(8,"nz-form-label",7),o.Oc(9,"Name"),o.cc(),o.dc(10,"nz-form-control"),o.Yb(11,"input",8),o.cc(),o.dc(12,"nz-form-label",9),o.Oc(13,"Path"),o.cc(),o.dc(14,"nz-form-control"),o.Yb(15,"input",10),o.cc(),o.dc(16,"nz-form-label",11),o.Oc(17,"Hostname"),o.cc(),o.dc(18,"nz-form-control"),o.Yb(19,"input",12),o.cc(),o.cc(),o.Yb(20,"div",13),o.dc(21,"div",14),o.dc(22,"nz-collapse",15),o.dc(23,"nz-collapse-panel",16),o.dc(24,"label",17),o.Mc(25,en,2,0,"span",0),o.Mc(26,nn,2,0,"span",0),o.cc(),o.cc(),o.dc(27,"nz-collapse-panel",18),o.dc(28,"nz-select",19),o.Yb(29,"nz-option",20),o.Yb(30,"nz-option",21),o.cc(),o.cc(),o.dc(31,"nz-collapse-panel",22),o.dc(32,"nz-form-control"),o.dc(33,"nz-select",23),o.Yb(34,"nz-option",24),o.Yb(35,"nz-option",25),o.Yb(36,"nz-option",26),o.Yb(37,"nz-option",27),o.Yb(38,"nz-option",28),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(39,"nz-tab",3),o.Mc(40,sn,2,0,"ng-template",null,29,o.Nc),o.Yb(42,"endpoint-actions-list",30),o.cc(),o.Mc(43,rn,7,4,"nz-tab",31),o.pc(44,"async"),o.cc(),o.cc(),o.ac()),2&t){const t=o.Cc(5),e=o.Cc(41),i=o.oc();o.Mb(1),o.vc("formGroup",i.form),o.Mb(1),o.vc("nzAnimated",o.wc(12,cn)),o.Mb(1),o.vc("nzTitle",t),o.Mb(19),o.vc("nzBordered",!0),o.Mb(1),o.vc("nzActive",!0),o.Mb(2),o.vc("ngIf",!!i.form.value.Enabled),o.Mb(1),o.vc("ngIf",!i.form.value.Enabled),o.Mb(7),o.vc("nzTokenSeparators",o.wc(13,an)),o.Mb(6),o.vc("nzTitle",e),o.Mb(4),o.vc("ngIf",o.qc(44,10,i.appSettings).Debug)}}const dn=[{path:"",component:Ie},{path:":id",component:(()=>{class t{constructor(t,e,i,n,s){this.uiService=t,this.route=e,this.rulesService=i,this.fb=n,this.appSettingsService=s,this.rule$=Object(Ae.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(O.a)(([t,e,i])=>(this.Id=t.get("id"),this.rulesService.Get(this.Id))),Object(Le.a)(),Object(a.a)(t=>{this.BaseRule||(this.BaseRule=t),this.uiService.Set(e=>{e.Header.Title="Endpoint Rule",e.Header.SubTitle=t.Name,e.Header.Icon="form",e.Footer.Button1.Visible=!0,e.Footer.Button2.Visible=!0}),this.form.patchValue(t)})),this.appSettings=this.appSettingsService.AppSettings$,this.uiService.Set(t=>{t.Footer.Button1.Visible=!0,t.Footer.Button1.OnClick=()=>{this.save()},t.Footer.Button2.Text="Reset",t.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseRule)},t.Footer.Show=!0}),this.form=this.fb.group({Id:[null],Name:[null,yt.p.required],Scheme:[],Hostname:[],Path:[],Actions:[[]],HttpMethods:[[]],Permissions:[[]],Order:[],Enabled:[!1]})}ngOnInit(){this.form.get("Name").valueChanges.subscribe(t=>this.uiService.Set(e=>e.Header.SubTitle=t)),this.form.valueChanges.subscribe(t=>{this.form.valid?this.SetButtonStatus(t):this.uiService.Set(t=>{t.Footer.Button1.Disabled=!0,t.Footer.Button1.Text="Form not valid!"})})}GeneratePatchDocument(){return Object(je.a)(this.BaseRule,this.form.value)}save(){this.rulesService.UpdatePartial(this.Id,this.GeneratePatchDocument()).pipe(Object(a.a)(()=>{this.BaseRule=this.form.value,this.SetButtonStatus(this.BaseRule)})).subscribe()}SetButtonStatus(t){var e=Object(je.a)(this.BaseRule,t);this.uiService.Set(e.length>0?t=>{t.Footer.Button1.Disabled=!1,t.Footer.Button1.Text="Save Changes",t.Footer.Button2.Disabled=!1}:t=>{t.Footer.Button1.Disabled=!0,t.Footer.Button1.Text="No Changes",t.Footer.Button2.Disabled=!0})}isNotSelected(t){return-1===this.form.value.HttpMethods.indexOf(t)}set BaseRule(t){this._baseRule=JSON.parse(JSON.stringify(t))}get BaseRule(){return this._baseRule}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(r.a),o.Xb(s.a),o.Xb(_t.a),o.Xb(yt.d),o.Xb(Be.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["endpoint-rule-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","Path"],["nz-input","","formControlName","Path","id","Path",2,"width","100%"],["nzFor","Hostname"],["nz-input","","formControlName","Hostname","id","Hostname","placeHolder","*",2,"width","100%"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nzHeader","Schemes"],["nzMode","multiple","nzPlaceHolder","all Schemes allowed","formControlName","Scheme","nzMode","tags",2,"width","100%"],["nzLabel","Http","nzValue","http"],["nzLabel","Https","nzValue","https"],["nzHeader","Http Methods"],["nzMode","multiple","nzPlaceHolder","all Methods allowed","formControlName","HttpMethods","nzMode","tags",2,"width","100%",3,"nzTokenSeparators"],["nzLabel","Get","nzValue","Get"],["nzLabel","Post","nzValue","Post"],["nzLabel","Put","nzValue","Put"],["nzLabel","Delete","nzValue","Delete"],["nzLabel","Patch","nzValue","Patch"],["ActionsTitle",""],["formControlName","Actions"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["nz-icon","","nzType","ordered-list"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"]],template:function(t,e){1&t&&(o.Mc(0,ln,45,14,"ng-container",0),o.pc(1,"async")),2&t&&o.vc("ngIf",o.qc(1,1,e.rule$))},directives:[n.t,yt.q,yt.m,Rt.b,yt.g,zi,mi,Et.a,Rt.d,Rt.a,It.a,yt.c,yt.l,yt.f,Ti,Di,Nt.a,Yt.b,Yt.a,Ji,Qt.b,Tt.a],pipes:[n.b,n.k],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}"]}),t})()}];let hn=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[s.h.forChild(dn)],s.h]}),t})();var pn=i("Hhmg"),un=i("Nqz0"),gn=i("z4wI");let bn=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[n.c,yt.o,hn,ft,Zt.d,pn.a,be.f,un.b,Ci,Et.b,Rt.e,It.b,St.c,gn.b,Nt.b,Yt.c,ki,Xt.c,Pt.b,ge]]}),t})()}}]);